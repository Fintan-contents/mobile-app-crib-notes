---
title: REST APIの呼びだし
---

ToDoアプリからREST APIを呼び出して、サーバから取得したデータを画面に表示していきましょう。まずは、`TodoService`でAPIクライアントを使うように修正します。

## `TodoService`の修正

`TodoService`の各メソッドから、適切なAPIクライアントのメソッドを呼びだすように修正していきます。

> 🚧 作成中 🚧

<!--
TODO: たぶん、SPA+RESTのハンズオンで説明されているような内容で十分なのかな？もう少し説明してあげてもいい気もしないでもないけど。
      https://fintan-contents.github.io/spa-restapi-handson/todo/frontend/api/#%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AE%E3%83%A9%E3%83%83%E3%83%91%E3%83%BC%E3%82%92%E4%BD%9C%E6%88%90
-->

## 動作確認

これでToDoアプリから登録したToDoが保存され、アプリを再起動しても、前に登録したToDoが参照できるようになりました。

<!--
TODO: APIサーバを再起動したらデータが消えるなら、ここで説明しておく必要あるね。
-->

実際に、そのようになっていることを確認していきましょう。次の手順でアプリを操作してください。

> 🚧 作成中 🚧

<!--
TODO: 起動+ログイン => 一覧① => 登録 => 完了 => アプリ閉じる => 起動+ログイン => 一覧②
      一覧①: 空（全てを選択しても何も表示されない）
      一覧②: 完了しているToDoが１件ある
-->

また、自分で起動しているアプリ以外から登録されたデータも参照できるようになっています。次の手順を実施して、他の人がToDoを追加したときの動作を確認してみましょう。

> 🚧 作成中 🚧

<!--
TODO: 起動+ログイン => 一覧① => 登録 => 完了 => curlなどでToDo追加 => 設定 => 一覧②
      一覧①: 空（全てを選択しても何も表示されない）
      一覧②: 完了しているToDoが１件と、curlで追加したToDoがある
-->

これで、REST APIを呼び出せるようになりました。しかし、このままではAPIを呼び出している間も画面が操作可能のままになってしまいますし、ユーザにアプリが処理中であることを伝えられません。

そこで、次はAPIの呼び出し中に画面の一部を操作不可にし、ユーザに処理中であることを伝えるインジケータを表示するように修正します。

---
title: アプリ起動後の初期化処理
---

このアプリでは、アプリ起動後にスプラッシュスクリーンを表示してアプリの初期化処理を実施します。初期化処理は、アプリ起動後に確認しなければいけない事項のチェックや、アプリ全体で共有する情報を取得します。また、取得した情報などに応じてスプラッシュスクリーンを閉じた後に表示する画面を決定します。

## 初期化処理のフロー

アプリ起動後の初期化処理のフローは以下になります。

![初期処理フロー](initialization-flow.drawio.png)

| 初期化処理                    | 概要                                                                                                     |
|:-------------------------|:-------------------------------------------------------------------------------------------------------|
| Firebase Crashlyticsの設定 | Firebase Crashlyticsの初期設定（起動IDの設定など）を行います。                                                             |
| メッセージのロード                | アプリで使用するメッセージを読み込みます。以降の処理ではここで取得したメッセージを使用するため、アプリ起動後の早いタイミングでメッセージを読み込みます。                           |
| 通知チャンネルの作成（Android）   | 受信したプッシュ通知を割り当てるチャンネルを作成します。                                                                           |
| 通知パラメータの取得               | 通知領域に表示されたメッセージをタップしてアプリを起動した場合は、Push通知に含まれるデータを取得します。                                                 |
| 強制アップデート対象のバージョン確認       | 起動したアプリのバージョンが強制アップデートの対象かを確認します。対象の場合は、App StoreかGoogle Playのどちらかに誘導します。                              |
| アカウントの自動ログイン | 前回ログインしていたアカウントのログイン資格情報を用いて自動でログインします。詳細は[認証方式](../auth/overview.mdx)を確認してください。 |
| 初期表示画面の決定  | 認証状態や通知パラメータに応じて初期表示画面を決定します。 |

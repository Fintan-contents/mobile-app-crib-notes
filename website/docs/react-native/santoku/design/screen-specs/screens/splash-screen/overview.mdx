---
title: スプラッシュスクリーン
sidebar_label: スプラッシュスクリーン
---
## ID

SplashScreen

## 概要

アプリの起動時（※1）に表示される画面です。

- アプリの初期化処理は、この画面の表示中に行います。初期化処理が完了するまで、次の画面には遷移しません。
- 初期化処理は[Application Architectureのアプリ起動後の初期化処理](/react-native/santoku/application-architecture/life-cycle-management/initialization.mdx#初期化処理のフロー)に従い、以下の処理を行います。
  - Firebase Crashlyticsの設定
  - メッセージのロード
  - 初期データの取得
  - 初期表示画面の決定
  - スプラッシュスクリーンを閉じる
- 初期データの取得では、以下の処理のみ行います。
  - 有効な利用規約に同意済みか確認する。
- 有効な利用規約に同意していない場合、利用規約同意の画面へ遷移します。
- 有効な利用規約に同意済みの場合、ホーム画面へ遷移します。
- 画面サイズに最適化した画像を表示します。各OSで、以下の方針で画像を用意します。
  - Androidのピクセル密度（※2）：ldpi、mdpi、hdpi、xhdpi、xxhdpi、xxxhdpi
  - iOSの画像スケール（※3）：@1x、@2x、@3x

（※1）[アプリスタートの種類](/react-native/santoku/application-architecture/life-cycle-management/overview.mdx#アプリスタートの種類に応じた初期化処理)の、コールドスタートとウォームスタートが該当します。<br />
（※2）Androidのピクセル密度については、[こちら](https://developer.android.com/training/multiscreen/screendensities?hl=ja)をご参照ください。<br />
（※3）iOSの画像スケールについては、[こちら](https://developer.apple.com/design/human-interface-guidelines/ios/icons-and-images/image-size-and-resolution/)をご参照ください。

:::note
初期化処理および初期データの取得は、現在は上記の処理を開発対象としております。上記以外の処理は今後開発予定です。
:::

## 画面種別

起動処理中の画面となるため、種別は定義しません。

## 画面レイアウト

![layout](./layout.drawio.png)

## ヘッダ

なし。

## 入力項目

なし。

## 表示項目

| 番号 | 名称           | 項目種別    | 取得元               | 表示/活性条件                                 |
|:----|:--------------|:-----------|:--------------------|:--------------------------------------------|
| O1  | アプリアイコン   | 画像       | -                   |                                           |
| O2  | フッタ          | 画像       | - |  |
| O3  | コード          | 画像       | - |  |

## 操作項目

なし。

## イベント定義

- 初期表示
  - 初期化処理を開始します。
- 初期化処理
  - 利用規約の同意状態取得APIを呼び出します。
    - APIから正常レスポンスが返却された場合、返却値によって分岐します。
      - 同意済みの場合、イベント：初期化処理に成功が発生。
      - 同意していない場合、イベント：利用規約に未同意が発生。
    - APIからエラーレスポンスが返却された場合、エラー：初期化失敗が発生。
- 初期化処理に成功
  - ホーム画面に遷移します。
- 利用規約に未同意
  - 利用規約同意の画面に遷移します。

## エラー発生時の挙動

| エラー | 発生時の挙動 |
|:------|:-----------|
| 初期化失敗 | メッセージキー：`app.初期化エラー`をダイアログで表示し、アプリを終了します。（※1） |
（※1）クリティカルエラーの可能性があるため、発生時のログを[Firebase Crashlyticsで収集](/react-native/santoku/application-architecture/logging-app/logging.mdx#firebase-crashlyticsについて)します。

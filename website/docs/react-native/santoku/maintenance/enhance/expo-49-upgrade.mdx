---
title: Expo SDK 49ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰
---

:::infoå‚è€ƒ
ä»¥ä¸‹ã®è¨˜äº‹ã‚’å‚è€ƒã«ã—ã¦ã€ã“ã®ã‚¢ãƒ—ãƒªã®Expo SDKã‚’49ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã—ã¾ã—ãŸã€‚
ä¸»ãªå¤‰æ›´ç‚¹ã¨ã“ã®ã‚¢ãƒ—ãƒªã§å®Ÿæ–½ã—ãŸã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰æ‰‹é †ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

- [Expo SDK 49. Today weâ€™re announcing the release ofâ€¦ | by Brent Vatne | Exposition](https://blog.expo.dev/expo-sdk-49-c6d398cdf740)
- [React Native 0.72 - Symlink Support, Better Errors, and more Â· React Native](https://reactnative.dev/blog/2023/06/21/0.72-metro-package-exports-symlinks)

ãªãŠã€ä½¿ç”¨ã•ã‚Œã‚‹å¯èƒ½æ€§ã®ä½ã„EASã¨React Native Webã«é–¢ã™ã‚‹å†…å®¹ã¯è¨˜è¼‰ã—ã¾ã›ã‚“ã€‚
:::

## Expo SDK 49ã®ä¸»ãªå¤‰æ›´

### React Native `v0.72.4`

è©³ç´°ã¯ã€ä»¥ä¸‹ã®ãƒªãƒ³ã‚¯å…ˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

- [React Native 0.72 - Symlink Support, Better Errors, and more Â· React Native](https://reactnative.dev/blog/2023/06/21/0.72-metro-package-exports-symlinks)
- [React Native CHANGELOG](https://github.com/facebook/react-native/blob/main/CHANGELOG.md#v0724)

Reactã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯å¤‰æ›´ã•ã‚Œã¦ãŠã‚‰ãšã€ä¾ç„¶ã¨ã—ã¦`v18.2.0`ã§ã™ã€‚

éæ¨å¥¨ã¨ãªã£ã¦ã„ãŸä»¥ä¸‹ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã€React Native `v0.72.0`ã§å‰Šé™¤ã•ã‚ŒãŸã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚
ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¸ã®ç§»è¡ŒãŒæ¨å¥¨ã•ã‚Œã¦ã„ã¾ã™ã€‚

- [Slider](https://reactnative.dev/docs/next/slider)
  - æ¨å¥¨ç§»è¡Œå…ˆï¼š [@react-native-community/slider](https://www.npmjs.com/package/@react-native-community/slider)
- [DatePickerIOS](https://reactnative.dev/docs/next/datepickerios)
  - æ¨å¥¨ç§»è¡Œå…ˆï¼š [@react-native-community/datetimepicker](https://www.npmjs.com/package/@react-native-community/datetimepicker)
- [ProgressViewIOS](https://reactnative.dev/docs/next/progressviewios)
  - æ¨å¥¨ç§»è¡Œå…ˆï¼š [@react-native-community/progress-view](https://www.npmjs.com/package/@react-native-community/progress-view)

### ãƒ‡ãƒãƒƒã‚°æ©Ÿèƒ½ã®æ”¹å–„

#### ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ‡ãƒãƒƒã‚°

ã‚¢ãƒ—ãƒªãŒ`expo-dev-client`ã¾ãŸã¯Expo Goã§å®Ÿè¡Œã•ã‚Œã‚‹ã¨ãã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’JSãƒ‡ãƒãƒƒã‚¬ãƒ¼ã§ç¢ºèªã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

#### React devtoolsã¨Expo CLIã®é€£æº

`Shift`+`m`ã‚’æŠ¼ã—ã¦ã€ŒStart React devtoolsã€ã‚’é¸æŠã™ã‚‹ã“ã¨ã§èµ·å‹•ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

#### VS Codeã§ã®ãƒ‡ãƒãƒƒã‚°

[Expo Tools Extension](https://marketplace.visualstudio.com/items?itemName=expo.vscode-expo-tools)ã‚’ä½¿ç”¨ã—ã¦ã€VS Codeã‹ã‚‰ã‚¢ãƒ—ãƒªã®JavaScriptã‚³ãƒ¼ãƒ‰ã‚’ç›´æ¥ãƒ‡ãƒãƒƒã‚°ã™ã‚‹ãŸã‚ã®å®Ÿé¨“çš„ãªã‚µãƒãƒ¼ãƒˆãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚

### TypeScript ãƒãƒ¼ã‚¸ãƒ§ãƒ³ `^5.1.3`

SDK 48ã¾ã§ã¯`^4.9.4`ãŒä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚

TypeScript `^5`ã®è©³ç´°ã¯ã€ä»¥ä¸‹ã®ãƒªãƒ³ã‚¯å…ˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

- [TypeScript: Documentation - TypeScript 5.0](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-5-0.html)
- [TypeScript: Documentation - TypeScript 5.1](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-5-1.html)

:::infoä»–ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„`v5.2.2`ãŒä½¿ç”¨ã•ã‚Œãªã„ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã€`^5.1.3`ã§ã¯ãªã`~5.1.3`æŒ‡å®šã‚’æ¨å¥¨ã—ã¾ã™ã€‚

`@typescript-eslint/typescript-estree`(`v5`)ãŒ`v5.1.x`ã¾ã§ã—ã‹ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã›ã‚“ã€‚

[typescript-eslint/packages/typescript-estree/src/parseSettings/warnAboutTSVersion.ts at v5.62.0 Â· typescript-eslint/typescript-eslint](https://github.com/typescript-eslint/typescript-eslint/blob/v5.62.0/packages/typescript-estree/src/parseSettings/warnAboutTSVersion.ts#L9)

> `const SUPPORTED_TYPESCRIPT_VERSIONS = '>=3.3.1 <5.2.0';`

é–¢ä¿‚ã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä¾å­˜é–¢ä¿‚ã¯ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚

- `expo-module-scripts`(`v3.0.x`)
  - `eslint-config-universe`(`v11`)
    - `@typescript-eslint`(`v5`)
:::

### ExpoãŒã‚µãƒãƒ¼ãƒˆã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚„æ©Ÿèƒ½

#### ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ›´æ–°

ExpoãŒç®¡ç†ã—ã¦ã„ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®å†…ã€ãƒ¡ã‚¸ãƒ£ãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ãªã©å¤§ããªãƒªãƒªãƒ¼ã‚¹ãŒã‚ã£ãŸã‚‚ã®ã‚’è¨˜è¼‰ã—ã¾ã™ã€‚

- [expo-router](https://docs.expo.dev/routing/introduction/) `v2.0`
  - å‚è€ƒï¼š[Announcing Expo Router v2. Expo Router v1 has been an incredibleâ€¦ | by Evan Bacon | Exposition](https://blog.expo.dev/introducing-expo-router-v2-3850fd5c3ca1)
- [sentry-expo](https://docs.expo.dev/guides/using-sentry/) `v7.0`
  - å‚è€ƒï¼š[Migration for React Native | Sentry Documentation](https://docs.sentry.io/platforms/react-native/migration/#from-4x-to-5x)
- [@react-native-community/datetimepicker](https://www.npmjs.com/package/@react-native-community/datetimepicker?activeTab=readme) `v7`
  - [ç ´å£Šçš„å¤‰æ›´ã¯ç„¡ã„ã§ã™ãŒNew ArchitectureãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¾ã—ãŸ](https://github.com/react-native-datetimepicker/datetimepicker/releases/tag/v7.0.0)
- [react-native-reanimated](https://docs.swmansion.com/react-native-reanimated/) `v3`
  - Reanimated API `v1`ã®ã‚µãƒãƒ¼ãƒˆãŒå‰Šé™¤ã•ã‚Œã¾ã—ãŸã€‚`v2`ã¨ã¯äº’æ›æ€§ãŒã‚ã‚Šã¾ã™
  - å‚è€ƒï¼š[Announcing Reanimated 3. Reanimated 3 release candidate is outâ€¦](https://blog.swmansion.com/announcing-reanimated-3-16167428c5f7)
- [expo-blur](https://docs.expo.dev/versions/latest/sdk/blur-view/)
  - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§é™çš„ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ™‚ã«ã¼ã‹ã—ãŒæœ‰åŠ¹ã«ãªã‚Šã¾ã—ãŸ
- [expo-face-detector](https://docs.expo.dev/versions/latest/sdk/facedetector/)
  - Expo Goã§ã®`expo-face-detector`ã®ã‚µãƒãƒ¼ãƒˆãŒå‰Šé™¤ã•ã‚Œã¾ã—ãŸãŒã€ã“ã‚Œã¾ã§ã¨åŒæ§˜ã«ã€Expo Goã®å¤–éƒ¨ã§ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’å¼•ãç¶šãä½¿ç”¨ã§ãã¾ã™
- [expo-gl](https://docs.expo.dev/versions/latest/sdk/gl-view/)
  - Reanimatedãƒ¯ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‹ã‚‰GLViewã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯ã€æ˜ç¤ºçš„ãªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£`enableExperimentalWorkletSupport`ãŒå¿…è¦ã«ãªã‚Šã¾ã—ãŸ
  - å‚è€ƒï¼š[Pull Request #22613 Â· expo/expo](https://github.com/expo/expo/pull/22613)

è©³ç´°ã‚„ãã®ä»–ã®å¤‰æ›´ã¯ã€ä»¥ä¸‹ã®ãƒªãƒ³ã‚¯å…ˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

- [expo/CHANGELOG.md at main Â· expo/expo](https://github.com/expo/expo/blob/main/CHANGELOG.md#4900--2023-06-27)

#### Expo Module APIã®æ”¹å–„

ãƒ­ãƒ¼ã‚«ãƒ« ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒå°å…¥ã•ã‚Œã¾ã—ãŸã€‚
ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½œæˆã—ãŸã‚Šã€ã‚¢ãƒ—ãƒªã®ãƒã‚¤ãƒ†ã‚£ãƒ– ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç®¡ç†ã—ãŸã‚Šã›ãšã«ã€ã‚¢ãƒ—ãƒªå†…ã§ãƒã‚¤ãƒ†ã‚£ãƒ– ã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
SDK 49ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã§è©¦ã™ã“ã¨ãŒã§ãã¾ã™ã€‚

```shell title="ãƒ­ãƒ¼ã‚«ãƒ«ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ä½œæˆã‚³ãƒãƒ³ãƒ‰"
npx create-expo-module --local
```

ã•ã‚‰ã«ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå‚ç…§ã«ãƒã‚¤ãƒ†ã‚£ãƒ–ã®éåŒæœŸé–¢æ•°ã‚’è¿½åŠ ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚
åŒæœŸé–¢æ•°ã¯JavaScriptValueã€JavaScriptObjectã€JavaScriptFunctionãªã©ã®JSå‹ã®å¼•æ•°ã‚’å—ã‘å–ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

è©³ç´°ã¯ã€[JavaScript values](https://docs.expo.dev/modules/module-api/#javascript-values)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

#### (iOSã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿)Appleã‚·ãƒªã‚³ãƒ³ã«ã‚ˆã‚‹Expo Goã®ãƒã‚¤ãƒ†ã‚£ãƒ–å®Ÿè¡Œã‚µãƒãƒ¼ãƒˆ

TestFlightãƒ“ãƒ«ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã€ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã‚’ä½¿ç”¨ã›ãšã«Appleã‚·ãƒªã‚³ãƒ³Macä¸Šã§Expo Goã‚’ç›´æ¥å®Ÿè¡Œã‚‚ã§ãã¾ã™ã€‚
ãŸã ã—ã€UIã®å•é¡ŒãŒã„ãã¤ã‹ã‚ã‚‹ã‚ˆã†ã§ã€ä¿®æ­£ãŒè¡Œã‚ã‚Œã¦ã„ã¾ã™ã€‚

Appleã‚·ãƒªã‚³ãƒ³ä¸Šã§ãƒã‚¤ãƒ†ã‚£ãƒ–å®Ÿè¡Œã®è©³ç´°ã¯ã€ä»¥ä¸‹ã®ãƒªãƒ³ã‚¯å…ˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

- [iPhone and iPad apps on Apple silicon Macs - Apple Developer](https://developer.apple.com/macos/iphone-and-ipad-apps/)

#### é–‹ç™ºãƒ“ãƒ«ãƒ‰ãƒ•ãƒ©ã‚°(`--dev-client`)ã®å‰Šé™¤

`npx expo start --dev-client`ã®`--dev-client`ãƒ•ãƒ©ã‚°ã¯å¿…è¦ãªããªã‚Šã¾ã—ãŸã€‚

`expo-dev-client`ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹å ´åˆã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§é–‹ç™ºãƒ“ãƒ«ãƒ‰ãŒã‚¿ãƒ¼ã‚²ãƒƒãƒˆã«ãªã‚Šã¾ã™ã€‚

ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ`s`ï¼ˆswitchï¼‰ã‚’ä½¿ç”¨ã—ã¦ã€é–‹ç™ºãƒ“ãƒ«ãƒ‰ã¨Expo Goã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
ã“ã‚Œã«ã‚ˆã‚Šã€QRã‚³ãƒ¼ãƒ‰ãŒæŒ‡ã™URLã¨ã€ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ`a`ï¼ˆAndroidï¼‰ã¨`i`ï¼ˆiOSï¼‰ã§èµ·å‹•ã™ã‚‹URLãŒå¤‰æ›´ã•ã‚Œã¾ã™ã€‚

#### `expo export:embed`

`Bundle React Native code and images`ãƒ“ãƒ«ãƒ‰ãƒ•ã‚§ãƒ¼ã‚ºã®`@react-native-community/cli`ãƒãƒ³ãƒ‰ãƒ«ã‚³ãƒãƒ³ãƒ‰ãŒç½®ãæ›ã‚ã‚Šã¾ã—ãŸã€‚
ã“ã‚Œã«ã‚ˆã‚Šã€ã‚«ã‚¹ã‚¿ãƒ ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆã®ã‚µãƒãƒ¼ãƒˆã‚’è¿½åŠ ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚
`package.json`ã®`main`ã‚’å¤‰æ›´ã—ã¦ã€ä»»æ„ã®ã‚½ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡ã™ã‚ˆã†ã«ã§ãã¾ã™ã€‚
Expo Routerã‚’ä½¿ç”¨ã—ã¦ã„ãªã„å ´åˆã¯ã€æ–°ã—ã„ã‚¨ãƒ³ãƒˆãƒªãƒ•ã‚¡ã‚¤ãƒ«ã§[registerRootComponent](https://docs.expo.dev/versions/latest/sdk/register-root-component/)ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

#### Expo CLIã«ã‚ˆã‚‹Metroç’°å¢ƒå¤‰æ•°ã®ã‚µãƒãƒ¼ãƒˆ

React Nativeã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®æ—¢å­˜ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã«ã¯ã€å¤‰æ•°ã‚’æ›´æ–°ã™ã‚‹ãŸã‚ã«Babelã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãªã©ã®å•é¡ŒãŒã‚ã‚Šã¾ã—ãŸã€‚

æ–°ã—ã„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§ã¯ã€ãƒ—ãƒ­ã‚»ã‚¹ã‚’Expo Metroæ§‹æˆã«çµ±åˆã—ã€JavaScriptã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã§ä¸€èˆ¬çš„ãªè¦å‰‡ã«å¾“ã£ã¦ç’°å¢ƒå¤‰æ•°åã®æ¥é ­è¾ã«`PUBLIC`ã‚’å«ã‚ã¦ã€ã“ã‚Œã‚‰ã®å•é¡ŒãŒè§£æ±ºã•ã‚Œã¾ã™ã€‚

SDK 49ã§ã¯ã€`EXPO_PUBLIC_`ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚’ä»˜ã‘ã¦[`.env`ã‚„`.env.local`ãªã©ã®ãƒ•ã‚¡ã‚¤ãƒ«](https://github.com/bkeepers/dotenv#what-other-env-files-can-i-use)ã§å¤‰æ•°ã‚’å®šç¾©ã§ãã€ãã‚Œã‚‰ãŒä½¿ç”¨ã•ã‚Œã‚‹å ´åˆã¯ã‚¢ãƒ—ãƒªã®JavaScriptã«çµ„ã¿è¾¼ã¾ã‚Œã¾ã™ã€‚

è©³ç´°ã¯ã€ä»¥ä¸‹ã®ãƒªãƒ³ã‚¯å…ˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

- [metro.config.js - Expo Documentation](https://docs.expo.dev/versions/v49.0.0/config/metro/#client-environment-variables)

#### ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ¤œè¨¼ã®é¸æŠçš„ã‚ªãƒ—ãƒˆã‚¢ã‚¦ãƒˆ

ç’°å¢ƒã«ã‚ˆã£ã¦ã¯ã€ExpoãŒæ¨å¥¨ã™ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¨ã¯ç•°ãªã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ãŸã„å ´åˆãŒã‚ã‚Šã¾ã™ã€‚

`package.json`ã®`expo.install.exclude`ã®ã‚­ãƒ¼ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã€`expo start`ãªã©ã§è¡Œã‚ã‚Œã‚‹æ¤œè¨¼ã‹ã‚‰é™¤å¤–ã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’æŒ‡å®šã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

è©³ç´°ã¯ã€ä»¥ä¸‹ã®ãƒªãƒ³ã‚¯å…ˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

- [Expo CLI - Expo Documentation](https://docs.expo.dev/more/expo-cli/#configuring-dependency-validation)

#### scheme (app config)

ä»¥å‰ã¯ã€è¿½åŠ ã®schemeã‚’è¨­å®šã™ã‚‹ã«ã¯Config Pluginsã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚
æ–‡å­—åˆ—ã®é…åˆ—ã¾ãŸã¯æ–‡å­—åˆ—ã‚’ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

```js title="app.config.js"
scheme: ['myapp', 'fb1234'],
// or
scheme: 'myapp',
```

#### New Architecture/Fabricã®ã‚µãƒãƒ¼ãƒˆ

`expo-dev-client`ã§FabricãŒå®Ÿé¨“çš„ã«ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¾ã—ãŸã€‚
`npx create-expo-app@latest -e with-new-arch` ã§è©¦ã™ã“ã¨ãŒã§ãã¾ã™ã€‚

ã“ã‚Œã«ã‚ˆã‚Šã€æ–°ã—ã„ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ãªã„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯`expo-updates`ã®ã¿ã«ãªã‚Šã¾ã—ãŸã€‚

#### Android Expo Modules

Gradle 8ã‚’ä½¿ç”¨ã™ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ã¯ã€ä»¥ä¸‹ã®ãƒªãƒ³ã‚¯å…ˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

- [fyi/expo-modules-gradle8-migration.md at main Â· expo/fyi](https://github.com/expo/fyi/blob/main/expo-modules-gradle8-migration.md)

#### Expo CLI

ã™ã¹ã¦ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒãƒ¼ãƒˆ19000ã§ã¯ãªã8081ã‚’ä½¿ç”¨ã™ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

#### JSCã®ãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ãƒãƒƒã‚°ç„¡åŠ¹åŒ–(Expo GoãŠã‚ˆã³`expo-dev-client`)

JSCãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ãƒãƒƒã‚°ã¯ã€Hermesã«ã‚ˆã‚‹ãƒ‡ãƒãƒƒã‚°ã«æ¯”ã¹ã¦ç‰¹ã«ã†ã¾ãæ©Ÿèƒ½ã™ã‚‹ã“ã¨ã¯ãªãã€æ™‚é–“ã®çµŒéã¨ã¨ã‚‚ã«ä¿¡é ¼æ€§ãŒä½ããªã£ã¦ã—ã¾ã„ã¾ã—ãŸã€‚

è©³ç´°ã«ã¤ã„ã¦ã¯ã€ä»¥ä¸‹ã®React Nativeã¸ã®ãƒ—ãƒ« ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
ã“ã‚Œã¯æ¬¡ã®React Nativeãƒªãƒªãƒ¼ã‚¹ã«å«ã¾ã‚Œã‚‹äºˆå®šã§ã™ã€‚

- [Remove remote debugging from dev menu by gabrieldonadel Â· Pull Request #36754 Â· facebook/react-native](https://github.com/facebook/react-native/pull/36754#pullrequestreview-1400288340)

#### Expo Constants

`Constants.manifest`ãŒéæ¨å¥¨ã«ãªã‚Šã¾ã—ãŸã€‚ä»£ã‚ã‚Šã«ã€`Constants.expoConfig`ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚

è©³ç´°ã¯ã€ä»¥ä¸‹ã®ãƒªãƒ³ã‚¯å…ˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

- [fyi/why-constants-expoconfig.md at main Â· expo/fyi](https://github.com/expo/fyi/blob/main/why-constants-expoconfig.md)

#### `expo-auth-session`

[expo-auth-session](https://docs.expo.dev/versions/v49.0.0/sdk/auth-session/)ã®`useProxy`ã¨`AuthSession.startAsync`ãŒå‰Šé™¤ã•ã‚Œã¾ã—ãŸã€‚

èªè¨¼ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ãŒã‚«ã‚¹ã‚¿ãƒ schemeã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã—ãªã„å•é¡Œã‚’å›é¿ã™ã‚‹ãŸã‚ã«èªè¨¼ãƒ—ãƒ­ã‚­ã‚·ã‚’ä½¿ç”¨ã—ã¦ã„ãŸå ´åˆã¯ã€[Expo Goã‹ã‚‰é–‹ç™ºãƒ“ãƒ«ãƒ‰ã«åˆ‡ã‚Šæ›¿ãˆ](https://docs.expo.dev/workflow/customizing/)ã€ãƒã‚¤ãƒ†ã‚£ãƒ–SDKã®ä½¿ç”¨ãŒæ¨å¥¨ã•ã‚Œã¦ã„ã¾ã™ã€‚

#### android:usesCleartextTraffic

ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’ä½¿ç”¨ã™ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

ãƒ‡ãƒãƒƒã‚° ãƒ“ãƒ«ãƒ‰ã§ã¯æ˜ç¤ºçš„ã«`true`ãŒè¨­å®šã•ã‚Œã¾ã™ãŒã€ä»–ã®ãƒ“ãƒ«ãƒ‰ã‚¿ã‚¤ãƒ—ï¼ˆä¾‹ï¼šãƒªãƒªãƒ¼ã‚¹ãƒ“ãƒ«ãƒ‰ï¼‰ã§ã¯æŒ‡å®šã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚
ã¤ã¾ã‚Šã€API 27ä»¥ä¸‹ã§ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§`true`ã€API 28ä»¥é™ã§ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§`false`ã«ãªã‚Šã¾ã™ã€‚

ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã§ä¿è­·ã•ã‚Œã¦ã„ãªã„ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¸ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒå­˜åœ¨ã™ã‚‹å ´åˆã¯ã€[expo-build-properties](https://docs.expo.dev/versions/v49.0.0/sdk/build-properties/)ã‚’ä½¿ç”¨ã—ã¦`true`ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

#### iOSç”¨ã‚¢ã‚¤ã‚³ãƒ³ã®ç°¡ç´ åŒ–

Xcode 14ä»¥é™ã§ã¯è‡ªå‹•çš„ã«ã‚µã‚¤ã‚ºå¤‰æ›´ã•ã‚Œã‚‹å˜ä¸€ã®`1024x1024`ç”»åƒã‚’ä½¿ç”¨ã—ã¦ã‚¢ãƒ—ãƒªã‚¢ã‚¤ã‚³ãƒ³ã‚’ç°¡ç´ åŒ–ã§ãã¾ã™ã€‚
ãã®ãŸã‚ã€Expoã§ã¯prebuildæ™‚ã«`1024x1024`ç”»åƒã®ã¿ã‚’ç”Ÿæˆã™ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

- [Xcode 14 Release Notes | Apple Developer Documentation](https://developer.apple.com/documentation/xcode-release-notes/xcode-14-release-notes#Asset-Catalogs)
- [feat(prebuild): Generate universal 1024x1024 iOS icon only. by EvanBacon Â· Pull Request #22833 Â· expo/expo](https://github.com/expo/expo/pull/22833)

### Expo SDK 46ã®ã‚µãƒãƒ¼ãƒˆçµ‚äº†

Expo SDK 46ãŒã‚µãƒãƒ¼ãƒˆå¯¾è±¡å¤–ã«ãªã‚Šã¾ã—ãŸã€‚Expo SDK 46ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã¯ã€Expo SDK 47ä»¥é™ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

ãªãŠã€æ¬¡ã®ãƒªãƒªãƒ¼ã‚¹ã§ã¯Expo SDK47ã¨48ã®ã‚µãƒãƒ¼ãƒˆãŒçµ‚äº†ã™ã‚‹è¦‹è¾¼ã¿ã®ã‚ˆã†ã§ã™ã€‚

## ã“ã®ã‚¢ãƒ—ãƒªã§å®Ÿæ–½ã—ãŸã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã®æ‰‹é †

ã“ã®ã‚¢ãƒ—ãƒªã§ã¯ã€[Expo SDK 48 ã‹ã‚‰ 49 ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã™ã‚‹æ–¹æ³•](https://blog.expo.dev/expo-sdk-49-c6d398cdf740#a25b)ã‚’å‚è€ƒã«ã€ä»¥ä¸‹ã®ä½œæ¥­ã‚’å®Ÿæ–½ã—ã¦Expo SDK 49ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã—ã¾ã—ãŸã€‚

1. `npm install expo@^49.0.0`ã‚’å®Ÿè¡Œã—ã¦ã€Expo SDKã‚’ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰
1. `npx expo install --fix`ã‚’å®Ÿè¡Œã—ã¦ã€ExpoãŒç®¡ç†ã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰
   - TypeScript `v5.2.x`ã§ã¯ãªã`v5.1.x`ã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚`npm install typescript@~5.1.3`ã‚’è¿½åŠ ã§å®Ÿè¡Œï¼ˆ[å‚è€ƒ](#typescript-ãƒãƒ¼ã‚¸ãƒ§ãƒ³-513)ï¼‰
1. [æ—¢å­˜ãƒ‘ãƒƒãƒãƒ•ã‚¡ã‚¤ãƒ«ã®æ›´æ–°](#æ—¢å­˜ãƒ‘ãƒƒãƒãƒ•ã‚¡ã‚¤ãƒ«ã®æ›´æ–°)
1. [`jest-expo`ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰](#jest-expoã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰)
1. [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä¾å­˜é–¢ä¿‚ã«å•é¡ŒãŒãªã„ã‹ç¢ºèª](#ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä¾å­˜é–¢ä¿‚ã«å•é¡ŒãŒãªã„ã‹ç¢ºèª)
1. [TSCã‚¨ãƒ©ãƒ¼ã¸ã®å¯¾å¿œ](#tscã‚¨ãƒ©ãƒ¼ã¸ã®å¯¾å¿œ)
   - [DimensionValueã®å³å¯†åŒ–](#dimensionvalueã®å³å¯†åŒ–)
   - [WebView.onScrollã®å‹å®šç¾©å¤‰æ›´](#webviewonscrollã®å‹å®šç¾©å¤‰æ›´)
   - [FunctionComponentã®å‹å®šç¾©ã®å¤‰æ›´](#functioncomponentã®å‹å®šç¾©ã®å¤‰æ›´)
1. [ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®ä¿®æ­£](#ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®ä¿®æ­£)
   - [`react-native-reanimated` `v3`å¯¾å¿œ](#react-native-reanimated-v3å¯¾å¿œ)
   - [`react-native` Dimensionsã®mockå¤±æ•—ã¸ã®å¯¾å¿œ](#react-native-dimensionsã®mockå¤±æ•—ã¸ã®å¯¾å¿œ)
   - [`jest.advanceTimersByTime`ã‚’`act`ã§ãƒ©ãƒƒãƒ—](#jestadvancetimersbytimeã‚’actã§ãƒ©ãƒƒãƒ—)
   - [`Constants.manifest`ãŒdeprecatedã«ãªã£ãŸã“ã¨ã¸ã®å¯¾å¿œ](#constantsmanifestãŒdeprecatedã«ãªã£ãŸã“ã¨ã¸ã®å¯¾å¿œ)
   - [ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä¸­ã®AnimatedStyleã®åƒ…ã‹ãªå¤‰åŒ–ã¸ã®å¯¾å¿œ](#ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä¸­ã®animatedstyleã®åƒ…ã‹ãªå¤‰åŒ–ã¸ã®å¯¾å¿œ)
   - [slideOutDurationãƒ†ã‚¹ãƒˆã®æ™‚é–“æŒ‡å®šãŒå³å¯†ã™ãã‚‹ã¨ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã™ã‚‹å•é¡Œã®ä¿®æ­£](#slideoutdurationãƒ†ã‚¹ãƒˆã®æ™‚é–“æŒ‡å®šãŒå³å¯†ã™ãã‚‹ã¨ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã™ã‚‹å•é¡Œã®ä¿®æ­£)
   - [keyExtractorã®å‘¼ã³å‡ºã—ãŒå¢—ãˆãŸã“ã¨ã«ã‚ˆã£ã¦å¤±æ•—ã™ã‚‹ã‚ˆã†ã«ãªã£ãŸãƒ†ã‚¹ãƒˆã®ä¿®æ­£](#keyextractorã®å‘¼ã³å‡ºã—ãŒå¢—ãˆãŸã“ã¨ã«ã‚ˆã£ã¦å¤±æ•—ã™ã‚‹ã‚ˆã†ã«ãªã£ãŸãƒ†ã‚¹ãƒˆã®ä¿®æ­£)
   - snapshotæ›´æ–°
1. [è­¦å‘Šãƒ­ã‚°ã¸ã®å¯¾å¿œ](#è­¦å‘Šãƒ­ã‚°ã¸ã®å¯¾å¿œ)
   - [typescript-eslintã‚’ç¾åœ¨ã®TypeScriptãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«å¯¾å¿œã—ãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¸æ›´æ–°](#typescript-eslintã‚’ç¾åœ¨ã®typescriptãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«å¯¾å¿œã—ãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¸æ›´æ–°)
   - [JSX namespaceãŒéæ¨å¥¨ã«ãªã£ãŸã“ã¨ã¸ã®å¯¾å¿œ](#jsx-namespaceãŒéæ¨å¥¨ã«ãªã£ãŸã“ã¨ã¸ã®å¯¾å¿œ)
   - [initialScrollIndexã®ç¯„å›²å¤–è­¦å‘Šã¸ã®å¯¾å¿œ](#initialscrollindexã®ç¯„å›²å¤–è­¦å‘Šã¸ã®å¯¾å¿œ)
1. `npm run prebuild`ã‚’å®Ÿè¡Œã—ã¦ãƒã‚¤ãƒ†ã‚£ãƒ–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å†ç”Ÿæˆ
1. [ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ã®ä¿®æ­£](#ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ã®ä¿®æ­£)
   - [`app.notifee:core`ã‚’è¦‹ã¤ã‘ã‚‰ã‚Œãªã„å•é¡Œã®å¯¾å¿œ](#appnotifeecoreã‚’è¦‹ã¤ã‘ã‚‰ã‚Œãªã„å•é¡Œã®å¯¾å¿œ)
1. renovateé™¤å¤–è¨­å®šæ›´æ–°
   - ä½¿ç”¨ã—ãªããªã£ãŸ`androidx.swiperefreshlayout:swiperefreshlayout`ã‚’å‰Šé™¤
1. [Config Plugins`withAndroidRemoveUsesClearTextTrafficForRelease`ã‚’å‰Šé™¤](#config-pluginswithandroidremoveusescleartexttrafficforreleaseã‚’å‰Šé™¤)
1. [Proguardãƒ«ãƒ¼ãƒ«ã®æ›´æ–°](#proguardãƒ«ãƒ¼ãƒ«ã®æ›´æ–°)
   - [`react-native-svg`ç”¨ãƒ«ãƒ¼ãƒ«ã®å‰Šé™¤](#react-native-svgç”¨ãƒ«ãƒ¼ãƒ«ã®å‰Šé™¤)
1. [Expoã®æ›´æ–°å±¥æ­´ç¢ºèªã¨å¯¾å¿œ](#expoã®æ›´æ–°å±¥æ­´ç¢ºèªã¨å¯¾å¿œ)
1. [React Nativeã®æ›´æ–°å±¥æ­´ç¢ºèªã¨å¯¾å¿œ](#react-nativeã®æ›´æ–°å±¥æ­´ç¢ºèªã¨å¯¾å¿œ)
1. [`expo-template-blank-typescript`ã®æ›´æ–°å±¥æ­´ç¢ºèªã¨å¯¾å¿œ](#expo-template-blank-typescriptã®æ›´æ–°å±¥æ­´ç¢ºèªã¨å¯¾å¿œ)
1. [`expo-template-bare-minimum`ã®æ›´æ–°å±¥æ­´ç¢ºèªã¨å¯¾å¿œ](#expo-template-bare-minimumã®æ›´æ–°å±¥æ­´ç¢ºèªã¨å¯¾å¿œ)
   - [`.gitignore`ã®æ›´æ–°](#gitignoreã®æ›´æ–°)
1. [React Native Upgrade Helper](https://react-native-community.github.io/upgrade-helper/?from=0.71.8&to=0.72.3)ã‚’å‚ç…§ã—ã¦ã€React Nativeã®æ›´æ–°ã‚’ç¢ºèª
   - ã“ã®ã‚¢ãƒ—ãƒªã§å¿…è¦ãªå¯¾å¿œã¯ã€[`expo-template-bare-minimum`ã®æ›´æ–°](https://github.com/expo/expo/commits/sdk-49/templates/expo-template-bare-minimum)ã§å¯¾å¿œã•ã‚Œã¦ã„ã¾ã—ãŸ
1. [æ‰‹å‹•ç®¡ç†ã—ã¦ã„ã‚‹ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®æ›´æ–°](#æ‰‹å‹•ç®¡ç†ã—ã¦ã„ã‚‹ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®æ›´æ–°)
   - [`managed-license.js`ã®æ›´æ–°](#managed-licensejsã®æ›´æ–°)
   - [æ–°è¦ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã¸ã®å¯¾å¿œ](#æ–°è¦ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã¸ã®å¯¾å¿œ)

ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã‚’å®Ÿæ–½ã—ãŸPull Requestã¯[ws-4020/mobile-app-crib-notes#1221](https://github.com/ws-4020/mobile-app-crib-notes/pull/1221)ã§ã™ã€‚

### æ—¢å­˜ãƒ‘ãƒƒãƒãƒ•ã‚¡ã‚¤ãƒ«ã®æ›´æ–°

ã“ã®ã‚¢ãƒ—ãƒªã§ã¯ã€[patch-package](https://github.com/ds300/patch-package)ã‚’ä½¿ç”¨ã—ã¦ã€ä»¥ä¸‹ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ãƒ‘ãƒƒãƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’é©ç”¨ã—ã¦ã„ã¾ã—ãŸã€‚
ãƒ‘ãƒƒãƒå†…å®¹ã®è©³ç´°ã¯ã€[ã“ã¡ã‚‰](https://github.com/{@inject:organization}/mobile-app-crib-notes/blob/v2023.07/example-app/SantokuApp/patches/README.md)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

- `react-native`
- `@expo/config-plugins`
- `expo-splash-screen`
- `react-native-elements`

`react-native`ã«é©ç”¨ã—ã¦ã„ãŸãƒ‘ãƒƒãƒã¯ã€ä»¥ä¸‹ã®PRã§ä¿®æ­£ã•ã‚ŒãŸãŸã‚ãƒ‘ãƒƒãƒãƒ•ã‚£ãƒ«ã‚’å‰Šé™¤ã—ã¾ã—ãŸã€‚

- [fix: fix virtualizedList scrollToEnd for 0 items by Andarius Â· Pull Request #36067 Â· facebook/react-native](https://github.com/facebook/react-native/pull/36067)

`@expo/config-plugins`ã¨`expo-splash-screen`ã¯ã€Expo SDKã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã«ä¼´ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒä¸ŠãŒã‚Šã¾ã—ãŸã€‚ã—ã‹ã—ã€é©ç”¨ã—ã¦ã„ãŸãƒ‘ãƒƒãƒãƒ•ã‚¡ã‚¤ãƒ«ã¯ã¾ã å¿…è¦ãªå¯¾å¿œã ã£ãŸãŸã‚ã€ãƒ‘ãƒƒãƒãƒ•ã‚¡ã‚¤ãƒ«ã¯å‰Šé™¤ã›ãšã«å„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«åˆã‚ã›ã¦ãƒ•ã‚¡ã‚¤ãƒ«åã‚’ãƒªãƒãƒ¼ãƒ ã—ã¾ã—ãŸã€‚

`react-native-elements`ã«é–¢ã—ã¦ã¯ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒå¤‰ã‚ã‚‰ãªã‹ã£ãŸãŸã‚å¤‰æ›´ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

### `jest-expo`ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰

`jest-expo`ã ã‘ã¯`npx expo install --fix`ã§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒä¸ŠãŒã‚‰ãªã‹ã£ãŸã®ã§ã€æ‰‹å‹•ã§`^49.0.0`ã«å¤‰æ›´ã—ã¾ã—ãŸã€‚

å‚è€ƒï¼š [Expo SDK 48ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ #jest-expoã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰](./expo-48-upgrade.mdx#jest-expoã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰)

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä¾å­˜é–¢ä¿‚ã«å•é¡ŒãŒãªã„ã‹ç¢ºèª

`npx expo-doctor@latest`ã‚’å®Ÿè¡Œã—ãŸã¨ã“ã‚ã€ä»¥ä¸‹ã®å®Ÿè¡Œçµæœã®ã‚ˆã†ã«`@expo/config-plugins`ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®å•é¡ŒãŒæ¤œçŸ¥ã•ã‚Œã¾ã—ãŸã€‚

```text title="npx expo-doctor@latestã®å®Ÿè¡Œçµæœ"
âœ” Check Expo config for common issues
âœ– Check package.json for common issues
âœ” Check dependencies for packages that should not be installed directly
âœ” Check npm/ yarn versions
âœ” Check for common project setup issues
âœ” Check Expo config (app.json/ app.config.js) schema
âœ” Check for legacy global CLI installed locally
âœ” Check that packages match versions required by installed Expo SDK
âœ” Check that native modules do not use incompatible support packages
âœ– Check that native modules use compatible support package versions for installed Expo SDK

Detailed check results:

Expected package @expo/config-plugins@~7.2.2
Found invalid:
  @expo/config-plugins@5.0.4
  @expo/config-plugins@5.0.4
  (for more info, run: npm why @expo/config-plugins)
Advice: Upgrade dependencies that are using the invalid package versions.

The following scripts in package.json conflict with the contents of node_modules/.bin: orval.

One or more checks failed, indicating possible issues with the project
```

ã—ã‹ã—ã€å‰å›å®Ÿæ–½ã—ãŸExpo48ã¸ã®æ›´æ–°ã‹ã‚‰å¤‰ã‚ã‚‰ãš`@react-native-firebase`ã®æ›´æ–°ãŒå¿…è¦ã§ã‚ã‚‹ãŸã‚ä¿ç•™ã¨ã—ã¾ã—ãŸã€‚

```text title="@expo/config-pluginsã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³"
$ npm ls @expo/config-plugins
santoku-app@1.0.0 /path/to/mobile-app-crib-notes/example-app/SantokuApp
â”œâ”€â”€ @expo/config-plugins@7.2.5
â”œâ”€â”¬ @react-native-firebase/app@16.4.6
â”‚ â””â”€â”€ @expo/config-plugins@5.0.4
â”œâ”€â”¬ @react-native-firebase/crashlytics@16.4.6
â”‚ â””â”€â”€ @expo/config-plugins@5.0.4
â”œâ”€â”¬ expo-splash-screen@0.20.5
â”‚ â””â”€â”¬ @expo/prebuild-config@6.2.6
â”‚   â””â”€â”€ @expo/config-plugins@7.2.5 deduped
â””â”€â”¬ expo@49.0.8
  â”œâ”€â”¬ @expo/cli@0.10.11
  â”‚ â””â”€â”€ @expo/config-plugins@7.2.5 deduped
  â”œâ”€â”€ @expo/config-plugins@7.2.5 deduped
  â””â”€â”¬ @expo/config@8.1.2
    â””â”€â”€ @expo/config-plugins@7.2.5 deduped
```

### TSCã‚¨ãƒ©ãƒ¼ã¸ã®å¯¾å¿œ

`npm run lint:tsc`ã§TypeScriptã®å‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã—ãŸã€‚

#### DimensionValueã®å³å¯†åŒ–

`react-native`ã®`v0.72.0`ã§ã¯Dimensionã®å‹å®šç¾©ãŒå³å¯†ã«ãªã‚Šã¾ã—ãŸã€‚

- [Improve handling of invalid DimensionValue usage (#36346) Â· facebook/react-native@02e29ab](https://github.com/facebook/react-native/commit/02e29abeada3d78dd7d90d1d89049cd1517afb55)

```diff title="interface FlexStyle"
-width?: number | string | undefined;
+width?: DimensionValue | undefined;
```

```ts
export type DimensionValue =
  | number
  | 'auto'
  | `${number}%`
  | Animated.AnimatedNode
  | null;
```

styleå®šç¾©ã®å‹æ¨è«–ã§`${number}%`ã§ã¯ãªã`string`ã¨ã—ã¦èªè­˜ã•ã‚Œã¦ã—ã¾ã†å•é¡ŒãŒèµ·ããŸã®ã§ã€`as const`ã‚’è¿½åŠ ã—ã¾ã—ãŸã€‚

```diff title="src/bases/ui/picker/Fader.tsx"
       case FaderPosition.TOP:
         return {
           containerStyle: {...staticStyles.containerTop, height: size},
-          imageStyle: {height: size, width: '100%'},
+          imageStyle: {height: size, width: '100%'} as const,
           imageSource: gradientTopImage,
         };
```

#### WebView.onScrollã®å‹å®šç¾©å¤‰æ›´

`react-native-webview`ã®Fabricå¯¾å¿œã§`onScroll`ã®å‹å®šç¾©ãŒå¤‰æ›´ã•ã‚Œã¾ã—ãŸã€‚

- [feat: Fabric support (#2686) Â· react-native-webview/react-native-webview@5558e28](https://github.com/react-native-webview/react-native-webview/commit/5558e28feab2e8bd881450f155e642cf1e66caad)

```diff title="WebViewProps"
-onScroll?: (event: WebViewScrollEvent) => void;
+onScroll?: ComponentProps<typeof NativeWebViewComponent>['onScroll'];
```

ã“ã‚Œã¯æ•´ç†ã™ã‚‹ã¨ä»¥ä¸‹ã«ãªã‚Šã¾ã™ã€‚

```diff
-onScroll?: (event: NativeSyntheticEvent<NativeScrollEvent>) => void;
+onScroll?: (event: NativeSyntheticEvent<ScrollEvent>) => void | Promise<void>;
```

`onScroll`ã®å‹ä¸ä¸€è‡´ã‚¨ãƒ©ãƒ¼ã«ãªã£ãŸã®ã§ã€ä»¥ä¸‹ã®ã‚ˆã†ã«å¯¾å¿œã—ã¾ã—ãŸã€‚

```diff title="src/bases/ui/webview/WebView.tsx"
-  const handleScroll = useCallback(
-    (event: WebViewScrollEvent) => {
+  const handleScroll = useCallback<Exclude<WebViewProps['onScroll'], undefined>>(
+    async event => {
       if (isUriChanged && event.nativeEvent.contentOffset.y > 0) {
```

#### FunctionComponentã®å‹å®šç¾©ã®å¤‰æ›´

`React.FC`(`FunctionComponent`)ã®è¿”ã‚Šå€¤ã®å‹å®šç¾©ãŒ`ReactElement`ã‹ã‚‰`ReactNode`ã«å¤‰æ›´ã•ã‚Œã¾ã—ãŸã€‚

- [ğŸ¤– Merge PR #65135 \[react\] Allow returning ReactNode from function comâ€¦ Â· DefinitelyTyped/DefinitelyTyped@443451c](https://github.com/DefinitelyTyped/DefinitelyTyped/commit/443451ccc5db3adf1865853e152636f1a9ba5dd5)

```diff title="namespace React"
    interface FunctionComponent<P = {}> {
-        (props: P, context?: any): ReactElement<any, any> | null;
+        (props: P, context?: any): ReactNode;
```

```ts title="namespace React"
    type ReactNode =
        | ReactElement
        | string
        | number
        | Iterable<ReactNode>
        // ç•¥
```

`FlatList`ã®`renderItem`ã¯`ReactNode`ã§ã¯ãªã`ReactElement`ã‚’è¦æ±‚ã—ã¦ã„ã‚‹ãŸã‚ã€å‹ä¸ä¸€è‡´ã‚¨ãƒ©ãƒ¼ã¨ãªã‚Šã¾ã—ãŸã€‚
ãã“ã§ã€`renderItem`ã«æ¸¡ã™é–¢æ•°ã«ã¯`React.FC`ã‚’ä½¿ç”¨ã—ãªã„ã‚ˆã†ã«å¤‰æ›´ã—ã¾ã—ãŸã€‚

```tsx title="src/features/demo-app-info/components/AppInfoTemplate.tsx"
return <FlatList data={items} renderItem={AppInfoListItem} keyExtractor={keyExtractor} testID={testID} />;
```

```ts title="interface FlatListProps<ItemT>"
  renderItem: ListRenderItem<ItemT> | null | undefined;
```

```ts
export type ListRenderItem<ItemT> = (
  info: ListRenderItemInfo<ItemT>,
) => React.ReactElement | null;
```

```diff title="src/features/demo-app-info/components/AppInfoListItem.tsx"
-export const AppInfoListItem: React.FC<AppInfoListItemProps> = ({item}) => {
+export const AppInfoListItem = ({item}: AppInfoListItemProps) => {
```

### ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®ä¿®æ­£

#### `react-native-reanimated` `v3`å¯¾å¿œ

`react-native-reanimated` `v3`ã§ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ãŒå¤‰ã‚ã‚Šã¾ã—ãŸã€‚
ãã‚Œã«åˆã‚ã›ã¦importã‚„å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¤‰æ›´ã—ã¾ã—ãŸã€‚

```diff
-react-native-reanimated/lib/reanimated2/
+react-native-reanimated/lib/module/reanimated2/
```

ã¾ãŸã€`setUpTests()`ã®importãŒçŸ­ç¸®ã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ãŸã®ã§å¤‰æ›´ã—ã¾ã—ãŸã€‚

- [Testing with Jest | React Native Reanimated](https://docs.swmansion.com/react-native-reanimated/docs/guides/testing/)

```diff title="jest/setup/react-native-reanimated.js"
 // https://docs.swmansion.com/react-native-reanimated/docs/guides/testing
-require('react-native-reanimated/lib/reanimated2/jestUtils').setUpTests();
+require('react-native-reanimated').setUpTests();
```

#### `react-native` Dimensionsã®mockå¤±æ•—ã¸ã®å¯¾å¿œ

`Dimensions`ãŒES moduleã«å¤‰æ›´ã•ã‚Œã¾ã—ãŸã€‚

- [ESM Dimensions Â· facebook/react-native@c52ed25](https://github.com/facebook/react-native/commit/c52ed258bf182fc435c5ed46ca5b41cff474f2c5)

```diff
-module.exports = Dimensions;
+export default Dimensions;
```

```diff title="node_modules/react-native/index.js"
   get Dimensions(): Dimensions {
-    return require('./Libraries/Utilities/Dimensions');
+    return require('./Libraries/Utilities/Dimensions').default;
   },
```

ãã®ãŸã‚ã€mockã™ã‚‹éš›ã¯`__esModule: true`ã‚’æŒ‡å®šã™ã‚‹ã‚ˆã†ã«å¤‰æ›´ã—ã¾ã—ãŸã€‚

- [ãƒ¢ãƒƒã‚¯é–¢æ•° Â· Jest](https://jestjs.io/ja/docs/29.5/mock-functions#%E9%83%A8%E5%88%86%E7%9A%84%E3%81%AA%E3%83%A2%E3%83%83%E3%82%AF)

```diff title="src/bases/ui/picker/DateTimePicker.ios.test.tsx"
 jest.doMock('react-native/Libraries/Utilities/Dimensions', () => ({
-  get: jest.fn().mockReturnValue({width: 400, height: 1000}),
-  set: jest.fn(),
-  addEventListener: jest.fn().mockReturnValue({remove: jest.fn()}),
+  __esModule: true,
+  default: {
+    get: jest.fn().mockReturnValue({width: 400, height: 1000}),
+    set: jest.fn(),
+    addEventListener: jest.fn().mockReturnValue({remove: jest.fn()}),
+  },
 }));
```

#### `jest.advanceTimersByTime`ã‚’`act`ã§ãƒ©ãƒƒãƒ—

ä»¥ä¸‹ã®è­¦å‘ŠãŒå‡ºã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ãŸãŸã‚ã€`act`ã§ãƒ©ãƒƒãƒ—ã™ã‚‹ã‚ˆã†ã«å¤‰æ›´ã—ã¾ã—ãŸã€‚

- Warning: An update to ForwardRef inside a test was not wrapped in act(...).
- When testing, code that causes React state updates should be wrapped into act(...):

```diff title="src/bases/ui/snackbar/SnackbarComponent.test.tsx"
   it('SnackbarComponentè¡¨ç¤ºä¸­ã«propsã§hideã‚’æŒ‡å®šã—ãŸå ´åˆã€SnackbarComponentãŒæ¶ˆãˆã‚‹ã“ã¨ã‚’ç¢ºèª', async () => {
     render(<SnackbarComponent message="ãƒ†ã‚¹ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸" />);
 
-    jest.advanceTimersByTime(FADE_IN_DURATION);
+    await act(() => {
+      jest.advanceTimersByTime(FADE_IN_DURATION);
+    });
     expect(screen.queryByText('ãƒ†ã‚¹ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸')).not.toBeNull();
```

#### `Constants.manifest`ãŒdeprecatedã«ãªã£ãŸã“ã¨ã¸ã®å¯¾å¿œ

[Expo SDK 49ã®ä¸»ãªå¤‰æ›´ - ExpoãŒã‚µãƒãƒ¼ãƒˆã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚„æ©Ÿèƒ½ - Expo Constants](#expo-constants)ã«è¨˜è¼‰ã—ãŸé€šã‚Šã€`Constants.manifest`ãŒéæ¨å¥¨ã«ãªã‚Šã¾ã—ãŸã€‚
`jest-mock`ã§ã‚‚mockã™ã‚‹éš›ã«[ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰æ§‹æ–‡](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Operators/Spread_syntax)ã‚’ä½¿ç”¨ã—ã¦ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨è­¦å‘Šãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚
ãã®ãŸã‚ã€ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰æ§‹æ–‡ã§ã¯ãªã[Proxy](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Proxy)ã‚’ä½¿ç”¨ã—ã¦ä¸Šæ›¸ãã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚

```diff title="jest/__mocks__/expo-constants.ts"
 import ExpoConstants from 'expo-constants';
 
-export const Constants: typeof ExpoConstants = {
-  ...ExpoConstants,
+import {wrapProperty} from '../utils/wrapProperty';
+
+export const Constants = wrapProperty(ExpoConstants, {
   expoConfig: {
     name: 'SantokuApp',
     slug: 'santokuApp',
@@ -16,6 +17,6 @@ export const Constants: typeof ExpoConstants = {
       mswEnabled: false,
     },
   },
-};
+});
```

```ts title="jest/utils/wrapProperty.ts"
function hasOwnProperty<T, K extends PropertyKey>(obj: T, propertyKey: K): obj is T & Record<K, unknown> {
  return Object.prototype.hasOwnProperty.call(obj, propertyKey);
}

/**
 * `{...original, [key]: value}`ã ã¨getterã«deprecatedè­¦å‘Šãƒ­ã‚°ãŒå­˜åœ¨ã™ã‚‹å ´åˆè­¦å‘Šãƒ­ã‚°ãŒå‡ºã¦ã—ã¾ã†å•é¡Œå¯¾ç­–
 */
export function wrapProperty<T extends object>(original: T, propertyObj: object): T {
  return new Proxy(original, {
    get(target, name, ...rest) {
      if (hasOwnProperty(propertyObj, name)) {
        return propertyObj[name];
      }
      return Reflect.get(target, name, ...rest);
    },
  });
}
```

#### ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä¸­ã®AnimatedStyleã®åƒ…ã‹ãªå¤‰åŒ–ã¸ã®å¯¾å¿œ

ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä¸­ã®`translateY`ã®å€¤ãŒä»¥å‰ã¨åƒ…ã‹ã«ç•°ãªã£ã¦ã„ã¾ã—ãŸã€‚
å€¤ãŒä»¥å‰ã¨åŒã˜ã“ã¨ãŒå¿…é ˆã§ã¯ãªãå·®åˆ†ã‚‚å°ã•ã„ãŸã‚ã€ç†ç”±ã®èª¿æŸ»ã¯ã›ãšã€ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’æ›´æ–°ã—ã¾ã—ãŸã€‚

```diff title="src/bases/ui/picker/PickerContainer.test.tsx"
@@ -53,7 +53,7 @@ describe('PickerContainer only with required props', () => {
     await act(() => {
       jest.advanceTimersByTime(DEFAULT_SLIDE_IN_DURATION / 2);
     });
-    expect(animatedView).toHaveAnimatedStyle({transform: [{translateY: 75}]});
+    expect(animatedView).toHaveAnimatedStyle({transform: [{translateY: 74.00333333333333}]});
     expect(sut).toMatchSnapshot('Animating (slide in)');
 
     // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒå®Œäº†ã™ã‚‹ã¨`transform`ãŒè¨­å®šå€¤ã«åˆ°é”ã—ã¦ã„ã‚‹ã“ã¨
@@ -82,7 +82,7 @@ describe('PickerContainer only with required props', () => {
     await act(() => {
       jest.advanceTimersByTime(DEFAULT_SLIDE_OUT_DURATION / 2);
     });
-    expect(animatedView).toHaveAnimatedStyle({transform: [{translateY: 75}]});
+    expect(animatedView).toHaveAnimatedStyle({transform: [{translateY: 76.00333333333333}]});
     expect(sut).toMatchSnapshot('Animating (slide out)');
 
     // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒå®Œäº†ã™ã‚‹ã¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒæ¶ˆãˆã‚‹ã“ã¨
```

#### slideOutDurationãƒ†ã‚¹ãƒˆã®æ™‚é–“æŒ‡å®šãŒå³å¯†ã™ãã‚‹ã¨ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã™ã‚‹å•é¡Œã®ä¿®æ­£

ä»Šã¾ã§ã¯ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³çµ‚äº†1mså‰ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³çµ‚äº†ã®callbackãŒå‘¼ã°ã‚Œãªã„ã“ã¨ã‚’æœŸå¾…ã—ãŸãƒ†ã‚¹ãƒˆã‚’ã—ã¦ã„ã¾ã—ãŸãŒã€callbackãŒå‘¼ã°ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã—ãŸã€‚
1msã¯å°ã•ã™ãã€èª¤å·®ã®å½±éŸ¿ã¨è€ƒãˆã‚‰ã‚Œã‚‹ãŸã‚10msã«å¤‰æ›´ã—ã¾ã—ãŸã€‚

```diff title="src/bases/ui/picker/PickerContainer.test.tsx"
@@ -146,14 +146,14 @@ describe('PickerContainer with all props', () => {
     sut.update(<PickerContainer isVisible={false} afterSlideOut={afterSlideOut} slideOutDuration={100} />);
 
     await startAnimation();
-    // slideOutDurationã§æŒ‡å®šã—ãŸæ™‚é–“ã®1mscå‰ã§ã¯afterSlideOutã¯å®Ÿè¡Œã•ã‚Œãªã„
+    // slideOutDurationã§æŒ‡å®šã—ãŸæ™‚é–“ã®10mscå‰ã§ã¯afterSlideOutã¯å®Ÿè¡Œã•ã‚Œãªã„
     await act(() => {
-      jest.advanceTimersByTime(99);
+      jest.advanceTimersByTime(90);
     });
     expect(afterSlideOut).not.toHaveBeenCalled();
     // slideOutDurationã§æŒ‡å®šã—ãŸæ™‚é–“çµŒéå¾Œã¯ã€afterSlideOutãŒå®Ÿè¡Œã•ã‚Œã‚‹
     await act(() => {
-      jest.advanceTimersByTime(1);
+      jest.advanceTimersByTime(10);
     });
     expect(afterSlideOut).toHaveBeenCalled();
   });
```

#### keyExtractorã®å‘¼ã³å‡ºã—ãŒå¢—ãˆãŸã“ã¨ã«ã‚ˆã£ã¦å¤±æ•—ã™ã‚‹ã‚ˆã†ã«ãªã£ãŸãƒ†ã‚¹ãƒˆã®ä¿®æ­£

`react-native`ã®`FlatList`ã®`keyExtractor`ã®å‘¼ã³å‡ºã—ãŒå¢—ãˆã¦ã„ã¾ã—ãŸã€‚
2å›ç›®ã«index=1ãŒå‘¼ã°ã‚Œã‚‹ã®ã¯å†…éƒ¨å®Ÿè£…ã«ä¾å­˜ã—ã¦ã„ãŸãŸã‚ã€`toHaveBeenNthCalledWith`ã®æ›¿ã‚ã‚Šã«`toHaveBeenCalledWith`ã‚’ä½¿ç”¨ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚

```diff title="src/bases/ui/picker/SelectPickerItems.android.test.tsx"
     expect(flatListProps.contentContainerStyle).toEqual({paddingVertical: 120});
     expect(flatListProps.snapToInterval).toBe(60);
-    expect(keyExtractor).toHaveBeenNthCalledWith(
-      1,
+    // `value: '1'` ã ã‘2å›å‘¼ã°ã‚Œã‚‹ã®ã§toHaveBeenNthCalledWithã‚’ä½¿ç”¨ã—ãªã„
+    expect(keyExtractor).toHaveBeenCalledWith(
       {value: '1', label: 'test1', key: 'key1', color: 'red', fontFamily: 'Roboto'},
       0,
     );
-    expect(keyExtractor).toHaveBeenNthCalledWith(
-      2,
+    expect(keyExtractor).toHaveBeenCalledWith(
       {value: '2', label: 'test2', color: 'yellow', fontFamily: 'SFProText'},
       1,
     );
```

### è­¦å‘Šãƒ­ã‚°ã¸ã®å¯¾å¿œ

#### typescript-eslintã‚’ç¾åœ¨ã®TypeScriptãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«å¯¾å¿œã—ãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¸æ›´æ–°

ä»¥ä¸‹ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒTypeScript`~5.1.3`ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ãªã‹ã£ãŸãŸã‚ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã—ã¾ã—ãŸã€‚

- @typescript-eslint/eslint-plugin
- @typescript-eslint/parser

```text title="ç™ºç”Ÿã—ã¦ã„ãŸè­¦å‘Šãƒ­ã‚°"
WARNING: You are currently running a version of TypeScript which is not officially supported by @typescript-eslint/typescript-estree.

You may find that it works just fine, or you may not.

SUPPORTED TYPESCRIPT VERSIONS: >=3.3.1 <5.1.0

YOUR TYPESCRIPT VERSION: 5.1.6

Please only submit bug reports when using the officially supported version.
```

```shell title="å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰"
npm update @typescript-eslint/eslint-plugin @typescript-eslint/parser
```

#### JSX namespaceãŒéæ¨å¥¨ã«ãªã£ãŸã“ã¨ã¸ã®å¯¾å¿œ

ä»¥ä¸‹ã®commitã§`JSX`namespaceãŒ`React`namespaceã®ä¸‹ã«ç§»å‹•ã•ã‚Œã€`JSX`ã¯éæ¨å¥¨ã¨ãªã‚Šã¾ã—ãŸã€‚

- [\[react\] Add JSX namespace to React namespace (#64464) Â· DefinitelyTyped/DefinitelyTyped@f1b2559](https://github.com/DefinitelyTyped/DefinitelyTyped/commit/f1b25591890978a92c610ce575ea2ba2bbde6a89)

ã“ã‚Œã«å¯¾å¿œã™ã‚‹ãŸã‚`JSX.Element`ã‚’`React.JSX.Element`ã«å¤‰æ›´ã—ã¾ã—ãŸã€‚

```diff title="src/bases/ui/picker/useSelectPickerItems.ts"
 type SelectPickerItemsTypes<ItemT> = {
   selectedValue?: React.Key | ItemT;
-  children?: JSX.Element | JSX.Element[];
+  children?: React.JSX.Element | React.JSX.Element[];
   items: Item<ItemT>[];
   itemHeight: number;
```

#### initialScrollIndexã®ç¯„å›²å¤–è­¦å‘Šã¸ã®å¯¾å¿œ

`react-native` `v0.72.0`ã‹ã‚‰`FlatList`ï¼ˆ`VirtualizedList`ï¼‰ã®`initialScrollIndex`ã«`-1`ï¼ˆè² ã®å€¤ï¼‰ã‚’æŒ‡å®šã™ã‚‹ã¨è­¦å‘Šãƒ­ã‚°ãŒã§ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

> initialScrollIndex "-1" is not valid (list has 0 items)

- [Gracefully handle out-of-bounds initialScrollIndex Â· facebook/react-native@aab9df3](https://github.com/facebook/react-native/commit/aab9df37102b6b8661a9e22ee8ae63166c8c632e)

ã“ã‚Œã¯ã€`items`ãŒç©ºã‹`selectedValue`ãŒä¸æ­£ã§`items`ã«å«ã¾ã‚Œã¦ãªã„ã¨ã„ã†ãƒ¬ã‚¢ã‚±ãƒ¼ã‚¹ã§ã—ã‹å•é¡Œã«ãªã‚Šã¾ã›ã‚“ã€‚
ã—ã‹ã—ã€ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã«`items=[]`ãŒå­˜åœ¨ã™ã‚‹ãŸã‚ã€ä»¥ä¸‹ã®ã‚ˆã†ã«`-1`ã®ã¨ãã¯`null`ã«ã™ã‚‹å¯¾å¿œã‚’ã—ã¾ã—ãŸã€‚

```diff title="src/bases/ui/picker/SelectPickerItems.android.tsx"
@@ -120,7 +120,7 @@ <AnimatedFlatList
         renderItem={renderItem}
         decelerationRate={DECELERATION_RATE}
         getItemLayout={getItemLayout}
-        initialScrollIndex={selectedIndex}
+        initialScrollIndex={selectedIndex !== -1 ? selectedIndex : null}
         centerContent
         testID={flatListTestID}
       />
```

### ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ã®ä¿®æ­£

#### `app.notifee:core`ã‚’è¦‹ã¤ã‘ã‚‰ã‚Œãªã„å•é¡Œã®å¯¾å¿œ

`npm run android`ã‚’å®Ÿè¡Œã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã—ãŸã€‚

> Could not find any matches for app.notifee:core:+ as no versions of app.notifee:core are available.

ãƒ¯ãƒ¼ã‚¯ã‚¢ãƒ©ã‚¦ãƒ³ãƒ‰ã¨ã—ã¦ã€`expo-build-properties`ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®`android.extraMavenRepos[]`ã‚’è¿½åŠ ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚

```diff title="app.config.js"
@@ -94,6 +94,10 @@
 -keep public class com.horcrux.svg.** {*;}
 `,
             enableProguardInReleaseBuilds: true,
+            extraMavenRepos: [
+              // notifee Expo49å¯¾å¿œ: https://github.com/invertase/notifee/issues/808
+              '$rootDir/../../../node_modules/@notifee/react-native/android/libs',
+            ],
           },
           ios: {
```

å‚è€ƒIssueã¯ä»¥ä¸‹ã§ã™ï¼ˆ2023/09æ™‚ç‚¹ã§æœªè§£æ±ºï¼‰ã€‚

- [Expo SDK 49 compatibility issue Â· Issue #808 Â· invertase/notifee](https://github.com/invertase/notifee/issues/808)

### Config Plugins`withAndroidRemoveUsesClearTextTrafficForRelease`ã‚’å‰Šé™¤

ä»Šã¾ã§ã¯æš—å·åŒ–ã—ã¦ãªã„httpé€šä¿¡ã‚’ç¦æ­¢ã™ã‚‹ãŸã‚ã«ã€`android:usesCleartextTraffic`ã‚’å‰Šé™¤ã™ã‚‹Config Pluginsã‚’ä½œæˆã—ä½¿ç”¨ã—ã¦ã„ã¾ã—ãŸã€‚

- [config/plugin/src/android/withAndroidRemoveUsesClearTextTrafficForRelease.ts](https://github.com/ws-4020/mobile-app-crib-notes/blob/v2023.07/example-app/SantokuApp/config/plugin/src/android/withAndroidRemoveUsesClearTextTrafficForRelease.ts)

ã—ã‹ã—ã€[Expo SDK 49ã®ä¸»ãªå¤‰æ›´ - ExpoãŒã‚µãƒãƒ¼ãƒˆã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚„æ©Ÿèƒ½ - android:usesCleartextTraffic](#androidusescleartexttraffic)ã«è¨˜è¼‰ã—ãŸé€šã‚Šã€Expoå´ã§å¯¾å¿œã•ã‚Œã¾ã—ãŸã€‚
ãã®ãŸã‚ã€ã“ã®Config Pluginsã¯ä¸è¦ã«ãªã£ãŸã®ã§å‰Šé™¤ã—ã¾ã—ãŸã€‚

### Proguardãƒ«ãƒ¼ãƒ«ã®æ›´æ–°

å„ãƒ«ãƒ¼ãƒ«ãŒç¾åœ¨ã‚‚å¿…è¦ã‹ã€ã‚³ãƒ¡ãƒ³ãƒˆã®ãƒªãƒ³ã‚¯å…ˆã®æ›´æ–°ãªã©ãŒç„¡ã„ã‹ã‚’ç¢ºèªã—ã¾ã—ãŸã€‚

#### `react-native-svg`ç”¨ãƒ«ãƒ¼ãƒ«ã®å‰Šé™¤

`react-native-svg` `v13.7.0`ã‹ã‚‰ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå´ã§è‡ªå‹•çš„ã«ãƒ«ãƒ¼ãƒ«ã‚’å«ã‚ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

- [Include proguard config (#1842) Â· software-mansion/react-native-svg@1637580](https://github.com/software-mansion/react-native-svg/commit/16375807327ec8e94cde91a7cbee771c48bf0c69)

ãã®ãŸã‚ã€`app.config.js`ã§`expo-build-properties`ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®`android.extraProguardRules`ã§ãƒ«ãƒ¼ãƒ«ã‚’è¿½åŠ ã™ã‚‹å¿…è¦ã¯ãªããªã£ãŸã®ã§å‰Šé™¤ã—ã¾ã—ãŸã€‚

```diff title="app.config.js"
 -keep class expo.modules.ExpoModulesPackageList { *; }
-
-# https://github.com/software-mansion/react-native-svg#problems-with-proguard
--keep public class com.horcrux.svg.** {*;}
 `,
             enableProguardInReleaseBuilds: true,
```

### Expoã®æ›´æ–°å±¥æ­´ç¢ºèªã¨å¯¾å¿œ

Expoã®[CHANGELOG](https://github.com/expo/expo/blob/sdk-49/CHANGELOG.md#4900--2023-06-27)ã‚’å‚ç…§ã—ã¦ã€Expo SDKã¨ExpoãŒç®¡ç†ã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ›´æ–°å†…å®¹ã‚’ç¢ºèªã—ã¾ã—ãŸã€‚

ã“ã“ã¾ã§ã®å¯¾å¿œä»¥å¤–ã«è¿½åŠ ã§å¿…è¦ãªã‚‚ã®ã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚

### React Nativeã®æ›´æ–°å±¥æ­´ç¢ºèªã¨å¯¾å¿œ

React Nativeã®[CHANGELOG](https://github.com/facebook/react-native/blob/main/CHANGELOG.md#v0724)ã‚’å‚ç…§ã—ã¦ã€React Nativeã®æ›´æ–°å†…å®¹ã‚’ç¢ºèªã—ã¾ã—ãŸã€‚

ã“ã“ã¾ã§ã®å¯¾å¿œä»¥å¤–ã«è¿½åŠ ã§å¿…è¦ãªã‚‚ã®ã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚

### `expo-template-blank-typescript`ã®æ›´æ–°å±¥æ­´ç¢ºèªã¨å¯¾å¿œ

[`expo-template-blank-typescript`ã®æ›´æ–°å±¥æ­´](https://github.com/expo/expo/commits/sdk-49/templates/expo-template-blank-typescript)ã‚’ç¢ºèªã—ã¾ã—ãŸã€‚

`npm install expo@^49.0.0`ã€`npx expo install --fix`ã§æ›´æ–°ã•ã‚Œã‚‹ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ãŒä¸»ãªå¤‰æ›´ã§ã—ãŸã€‚ãã®ãŸã‚ã€ã“ã®ã‚¢ãƒ—ãƒªã§ç‰¹åˆ¥ãªå¯¾å¿œã¯å¿…è¦ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚

### `expo-template-bare-minimum`ã®æ›´æ–°å±¥æ­´ç¢ºèªã¨å¯¾å¿œ

ã“ã®ã‚¢ãƒ—ãƒªã§ã¯[Config Pluginsã«å¯¾å¿œ](./config-plugins.mdx)ã—ã¦ã„ã‚‹ã®ã§ã€`expo-template-bare-minimum`ã®æ›´æ–°ã«ä¼´ã†å€‹åˆ¥ã®å¯¾å¿œã¯åŸºæœ¬çš„ã«å¿…è¦ã‚ã‚Šã¾ã›ã‚“ã€‚
ãŸã ã—ã€ä»¥ä¸‹ã®å ´åˆã¯å€‹åˆ¥ã«å¯¾å¿œã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€ã“ã®è¦³ç‚¹ã«çµã£ã¦[`expo-template-bare-minimum`ã®æ›´æ–°å±¥æ­´](https://github.com/expo/expo/commits/sdk-49/templates/expo-template-bare-minimum)ã‚’ç¢ºèªã—ã¾ã—ãŸã€‚

- ã“ã®ã‚¢ãƒ—ãƒªã§ä½œæˆã—ã¦ã„ã‚‹Config Pluginsã«ã‚ˆã‚‹å¤‰æ›´ã¨ã€`expo-template-bare-minimum`ã®æ›´æ–°ã«ä¼´ã†å¤‰æ›´ãŒç«¶åˆã—ãŸå ´åˆ
- [Prebuild](../../development/build-configuration.mdx#prebuild)æ™‚ã«ç”Ÿæˆãƒ»æ›´æ–°ã•ã‚Œãªã„ãƒ•ã‚¡ã‚¤ãƒ«
  - `android/`, `ios/`ä»¥å¤–ã®ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ`.gitignore`ãªã©ï¼‰

#### `.gitignore`ã®æ›´æ–°

`expo-template-bare-minimum`ã®ä»¥ä¸‹ã®ã‚³ãƒŸãƒƒãƒˆã§ã€`.gitignore`ãŒæ›´æ–°ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚

- [update template gitignores (#22650) Â· expo/expo@5636a05](https://github.com/expo/expo/commit/5636a057028afc308bc011bf4ae71589a456c534)

å¤§ããªå¤‰æ›´ã¯ã€é‡è¤‡ã®å‰Šé™¤ã§ã—ãŸã€‚
ã¤ã¾ã‚Šã€Android, Xcodeé–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«ã¯ `android/`, `ios/` ã® `.gitignore` ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ãŸã‚å‰Šé™¤ã•ã‚Œã¾ã—ãŸã€‚
ã“ã®ã‚¢ãƒ—ãƒªã«ã‚‚ã“ã®å¤‰æ›´ã‚’å–ã‚Šè¾¼ã¿ã¾ã—ãŸã€‚

```diff title=.gitignore
-# Xcode
-#
-build/
-*.pbxuser
-!default.pbxuser
-*.mode1v3
-!default.mode1v3
-*.mode2v3
-!default.mode2v3
-*.perspectivev3
-!default.perspectivev3
-xcuserdata
-*.xccheckout
-*.moved-aside
-DerivedData
-*.hmap
-*.ipa
-*.xcuserstate
-project.xcworkspace
-
-# Android/IntelliJ
-#
-build/
-.idea
-.gradle
-local.properties
-*.iml
-*.hprof
```

:::caution
ã“ã®ã‚¢ãƒ—ãƒªã§ã¯ã€prebuildæ™‚ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚³ãƒ”ãƒ¼å‡¦ç†ã«ä¸å…·åˆãŒã‚ã‚Šã€`prebuild/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä¸€éƒ¨ãƒ•ã‚¡ã‚¤ãƒ«ãŒignoreã•ã‚Œãªããªã‚Šã¾ã—ãŸã€‚
ä¸å…·åˆã¯`android/`,`ios/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®`.gitignore`ãŒ`prebuild/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚³ãƒ”ãƒ¼ã•ã‚Œãªã„ã‚‚ã®ã§ã€ä»¥ä¸‹ã®Pull Requestã§å¯¾å‡¦ã—ã¾ã—ãŸã€‚

- [ğŸ›: prebuildæ™‚ã«.å§‹ã¾ã‚Šã®ãƒ•ã‚¡ã‚¤ãƒ«(.gitignoreãªã©)ãŒã‚³ãƒ”ãƒ¼ã•ã‚Œã¦ãªã„å•é¡Œã‚’ä¿®æ­£ Â· Pull Request #1225 Â· ws-4020/mobile-app-crib-notes](https://github.com/ws-4020/mobile-app-crib-notes/pull/1225)
:::

### æ‰‹å‹•ç®¡ç†ã—ã¦ã„ã‚‹ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®æ›´æ–°

ã“ã®ã‚¢ãƒ—ãƒªã§ã¯ã€ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ä¸€è¦§ã‚’å‡ºåŠ›ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ç”¨æ„ã—ã¦ã„ã¾ã™ã€‚è©³ç´°ã¯ã€[ã“ã¡ã‚‰](https://github.com/{@inject:organization}/mobile-app-crib-notes/blob/v2023.07/example-app/SantokuApp/.script/README.md)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

#### `managed-license.js`ã®æ›´æ–°

ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æƒ…å ±ãŒä¸è¶³ã—ã¦ãŠã‚Šè£œå®Œã—ãŸã„ã€ã‚ã‚‹ã„ã¯ã€é–‹ç™ºæ™‚ã®ã¿ä½¿ç”¨ã™ã‚‹ãŸã‚é™¤å¤–ã—ãŸã„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’[managed-license.js](https://github.com/{@inject:organization}/mobile-app-crib-notes/blob/v2023.07/example-app/SantokuApp/.script/managed-license.js)ã§ç®¡ç†ã—ã¦ã„ã¾ã™ã€‚

ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æƒ…å ±ãŒä¸è¶³ã—ã¦ã„ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãªã©ã¯ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ç¢ºèªã§ãã¾ã™ã€‚

- `node .script/check-licenses.js`

å®Ÿè¡Œã—ãŸçµæœã€ã„ãã¤ã‹ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æƒ…å ±ã‚’æ›´æ–°ã™ã‚‹å¿…è¦ãŒã‚ã£ãŸã®ã§ä»¥ä¸‹ã‚’å®Ÿæ–½ã—ã¾ã—ãŸã€‚

- ä½¿ç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®åå‰æ›´æ–°
- ä½¿ç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ›´æ–°
- ä½¿ç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«URLæ›´æ–°
- æ–°è¦ãƒ©ã‚¤ãƒ–ãƒ©ãƒªæƒ…å ±ã®è¿½åŠ 
- ä½¿ç”¨ã—ãªããªã£ãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªæƒ…å ±ã®å‰Šé™¤

#### æ–°è¦ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã¸ã®å¯¾å¿œ

ã“ã®ã‚¢ãƒ—ãƒªã§ã¯ã€ã‚¢ãƒ—ãƒªã«ä½¿ç”¨ã—ã¦ã‚‚å•é¡Œãªã„ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚’ç®¡ç†ã—ã¦ãƒã‚§ãƒƒã‚¯ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚

ä»Šå›ã®Expo SDKã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã§ã¯ã€[Mozilla Public License 2.0](https://spdx.org/licenses/MPL-2.0.html)ï¼ˆ`MPL-2.0`ï¼‰ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒå¢—ãˆã¾ã—ãŸã€‚
`MPL-2.0`ã¯æº–ã‚³ãƒ”ãƒ¼ãƒ¬ãƒ•ãƒˆå‹ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã§ã‚ã‚Šã€è©²å½“ãƒ©ã‚¤ãƒ–ãƒ©ãƒªä»¥å¤–ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®å…¬é–‹ç¾©å‹™ãŒç™ºç”Ÿã—ãªã„ãŸã‚ã€ä½¿ç”¨å¯ã¨ã—ã¾ã—ãŸã€‚
ãã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹åï¼ˆ`MPL-2.0`ï¼‰ã‚’[check-licenses.js](https://github.com/{@inject:organization}/mobile-app-crib-notes/blob/v2023.07/example-app/SantokuApp/.script/check-licenses.js)ã®`licenseWhitelist`ã«è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚

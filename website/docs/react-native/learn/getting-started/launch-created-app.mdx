---
title: アプリの実行
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

[プロジェクトの作成](create-project.md)で作ったアプリの実行方法を紹介します。

iOSアプリはiPhoneシミュレータ、AndroidアプリはAndroidエミュレータで起動するのが基本です。また、今回作成したプロジェクトはExpoを利用しているので、Expo Goというアプリでも実行できます。

React Nativeアプリの実行方法と仕組みをかんたんに説明します。

実行方法で紹介しているコマンドは、全てプロジェクトのルートディレクトリ（`package.json`のあるディレクトリ）で実行してください。

うまく起動できない場合は、[ハマりがちな落とし穴](../../common-pitfalls.md)を参照してください。

<!-- textlint-disable ja-technical-writing/sentence-length,ja-technical-writing/max-comma,ja-spacing/ja-no-space-around-parentheses,jtf-style/3.3.かっこ類と隣接する文字の間のスペースの有無,ja-technical-writing/ja-no-mixed-period,ja-technical-writing/no-unmatched-pair -->

<Tabs
  defaultValue="expo"
  values={[
    {label: 'Expo Go', value: 'expo'},
    {label: 'iPhoneシミュレータ', value: 'iphone'},
    {label: 'Androidエミュレータ', value: 'android'},
  ]}>

<!-- textlint-enable ja-technical-writing/sentence-length,ja-technical-writing/max-comma,ja-spacing/ja-no-space-around-parentheses,jtf-style/3.3.かっこ類と隣接する文字の間のスペースの有無,ja-technical-writing/ja-no-mixed-period,ja-technical-writing/no-unmatched-pair -->

<TabItem value="expo">

![Image](expo-build.png)

Expo Goを利用する場合、ストア公開されているExpo Goアプリを端末にインストールして使用するため、アプリのビルドは不要です。
Expo Goは、Expoで作られたアプリをビルドすることなく簡単に実機で動かすことができるアプリです。Expo SDKに含まれないネイティブモジュールを利用していなければ、[Bare Workflow](https://docs.expo.io/introduction/managed-vs-bare/#bare-workflow)のアプリでも実行できます。[App Store](https://apps.apple.com/jp/app/expo-go/id982107779), [Google Play](https://play.google.com/store/apps/details?id=host.exp.exponent)からインストールしてください。

Expo Goをインストールしたら、プロジェクトでExpoの開発サーバを起動します。

```bash
npx expo start
```

:::info
`expo-cli`がインストールされていない場合は、次のようなメッセージが表示されて`expo-cli`のインストールを求められます。Expo Goでアプリを実行するためには必要なのでインストールしてください。

```console
This command requires Expo CLI.
Do you want to install it globally [Y/n]?
```

:::

`expo start` を実行するとExpoの開発者ツールとMetro Bundlerが起動します。
開発者ツールに記載されているQRコードを読み取ることで、Expo Goは同一無線ネットワーク内のMetro Bundlerに接続するよう設定されます。そしてMetro Bundlerを通してJava Scriptのソースを読み込み、実行します。

ターミナル上、もしくは起動したブラウザの左下に表示されたQRコードをスキャンします。AndroidではExpo Goから、iOSではOSのカメラアプリからQRコードをスキャンしてください。

Androidでは、QRコードをスキャンするとアプリが表示されます。

iOSでは、QRコードをスキャンするとExpo Goで表示するかどうかを確認するバナーが表示されるので、バナーをタップしてExpo Goでアプリを表示してください。

:::info
`npx expo start`では、Expoの開発者ツールとMetro Bundlerが起動します。デフォルトでは開発者ツールは`19002`ポート、Metro Bundlerは`19000`ポートでそれぞれ起動します。

ブラウザがうまく起動せず開発者ツールの画面が自動的に開かれなかったとしても、[http://localhost:19002](http://localhost:19002)にアクセスすれば表示できます。

なお、他のプロセスなどによってこれらのポートがすでに利用されている場合は、自動的に異なるポートが選択されて起動します。その場合でも、次のように表示されているログからURLを確認して開発者ツールを表示できます。

```console
Expo DevTools is running at http://localhost:19003
```

:::

</TabItem>

<TabItem value="android">

![Image](react-native-android-build.png)

`npm run android` と実行するとMetro Bundlerが起動した後、アプリのビルドが始まります。
Androidアプリがビルドされ、エミュレータにインストールされます。

その後、インストールされたアプリがMetro Bundlerを通してJava Scriptのソースを読み込み、実行します。

</TabItem>
<TabItem value="iphone">

![Image](react-native-ios-build.png)

`npm run ios` と実行するとMetro Bundlerが起動した後、アプリのビルドが始まります。
iOSアプリがビルドされ、シミュレータにインストールされます。

その後、インストールされたアプリがMetro Bundlerを通してJava Scriptのソースを読み込み、実行します。

</TabItem>

</Tabs>

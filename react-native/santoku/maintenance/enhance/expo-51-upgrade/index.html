<!doctype html>
<html lang="ja" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-react-native/santoku/maintenance/enhance/expo-51-upgrade" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Expo SDK 51アップグレード | Fintan » Mobile App Development</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://fintan-contents.github.io/mobile-app-crib-notes/react-native/santoku/maintenance/enhance/expo-51-upgrade"><meta data-rh="true" name="docusaurus_locale" content="ja"><meta data-rh="true" name="docsearch:language" content="ja"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Expo SDK 51アップグレード | Fintan » Mobile App Development"><meta data-rh="true" name="description" content="以下の記事を参考にして、このアプリのExpo SDKを51にアップグレードしました。"><meta data-rh="true" property="og:description" content="以下の記事を参考にして、このアプリのExpo SDKを51にアップグレードしました。"><link data-rh="true" rel="icon" href="/mobile-app-crib-notes/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://fintan-contents.github.io/mobile-app-crib-notes/react-native/santoku/maintenance/enhance/expo-51-upgrade"><link data-rh="true" rel="alternate" href="https://fintan-contents.github.io/mobile-app-crib-notes/react-native/santoku/maintenance/enhance/expo-51-upgrade" hreflang="ja"><link data-rh="true" rel="alternate" href="https://fintan-contents.github.io/mobile-app-crib-notes/react-native/santoku/maintenance/enhance/expo-51-upgrade" hreflang="x-default"><script src="https://plausible.io/js/script.js" defer="defer" data-domain="fintan-contents.github.io,all.fintan"></script><link rel="stylesheet" href="/mobile-app-crib-notes/assets/css/styles.b068789d.css">
<link rel="preload" href="/mobile-app-crib-notes/assets/js/runtime~main.3d60eee5.js" as="script">
<link rel="preload" href="/mobile-app-crib-notes/assets/js/main.1abe714a.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="メインコンテンツまでスキップ"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">メインコンテンツまでスキップ</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://fintan.jp" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/mobile-app-crib-notes/img/fintan-logo.jpg" alt="Fintan Mobile App" class="themedImage_ToTc themedImage--light_HNdA"><img src="/mobile-app-crib-notes/img/fintan-logo.jpg" alt="Fintan Mobile App" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a class="navbar__item navbar__link" href="/mobile-app-crib-notes/">Home</a><a class="navbar__item navbar__link" href="/mobile-app-crib-notes/reference">Reference</a><a class="navbar__item navbar__link" href="/mobile-app-crib-notes/distribution">Distribution</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">React Native</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/mobile-app-crib-notes/react-native/learn">Learn</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/mobile-app-crib-notes/react-native/santoku">Example App</a></li><li><a class="dropdown__link" href="/mobile-app-crib-notes/react-native/common-pitfalls">Trouble shooting</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/fintan-contents/mobile-app-crib-notes" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="先頭へ戻る" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a href="https://fintan.jp" target="_blank" rel="noopener noreferrer" tabindex="-1" class="sidebarLogo_isFc"><img src="/mobile-app-crib-notes/img/fintan-logo.jpg" alt="Fintan Mobile App" class="themedImage_ToTc themedImage--light_HNdA"><img src="/mobile-app-crib-notes/img/fintan-logo.jpg" alt="Fintan Mobile App" class="themedImage_ToTc themedImage--dark_i4oU"></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mobile-app-crib-notes/react-native/santoku">はじめに</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/mobile-app-crib-notes/react-native/santoku/requirements">Requirements</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/mobile-app-crib-notes/react-native/santoku/application-architecture">Application Architecture</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/mobile-app-crib-notes/react-native/santoku/test-planning">Test Planning</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/mobile-app-crib-notes/react-native/santoku/design">Design</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/mobile-app-crib-notes/react-native/santoku/development">Development</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/mobile-app-crib-notes/react-native/santoku/maintenance">Maintenance</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mobile-app-crib-notes/react-native/santoku/maintenance">目次</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/mobile-app-crib-notes/react-native/santoku/maintenance/enhance">エンハンス</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/mobile-app-crib-notes/react-native/santoku/maintenance/enhance">概要</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/mobile-app-crib-notes/react-native/santoku/maintenance/enhance/expo-51-upgrade">Expo SDK 51アップグレード</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/mobile-app-crib-notes/react-native/santoku/maintenance/enhance/expo-50-upgrade">Expo SDK 50アップグレード</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/mobile-app-crib-notes/react-native/santoku/maintenance/enhance/expo-49-upgrade">Expo SDK 49アップグレード</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/mobile-app-crib-notes/react-native/santoku/maintenance/enhance/expo-48-upgrade">Expo SDK 48アップグレード</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/mobile-app-crib-notes/react-native/santoku/maintenance/enhance/expo-47-upgrade">Expo SDK 47アップグレード</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/mobile-app-crib-notes/react-native/santoku/maintenance/enhance/config-plugins">Config Plugins対応</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/mobile-app-crib-notes/react-native/santoku/maintenance/enhance/expo-46-upgrade">Expo SDK 46アップグレード</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/mobile-app-crib-notes/react-native/santoku/decisions">Decision Records</a></div></li></ul></nav><button type="button" title="サイドバーを隠す" aria-label="サイドバーを隠す" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">このページの見出し</button></div><div class="theme-doc-markdown markdown"><header><h1>Expo SDK 51アップグレード</h1></header><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>参考</div><div class="admonitionContent_S0QG"><p>以下の記事を参考にして、このアプリのExpo SDKを51にアップグレードしました。
主な変更点とこのアプリで実施したアップグレード手順を紹介します。</p><ul><li><a href="https://expo.dev/changelog/2024/05-07-sdk-51" target="_blank" rel="noopener noreferrer">Expo SDK 51 - Expo Changelog</a></li><li><a href="https://reactnative.dev/blog/2024/04/22/release-0.74" target="_blank" rel="noopener noreferrer">React Native 0.74 - Yoga 3.0, Bridgeless New Architecture, and more · React Native</a></li></ul><p>なお、使用される可能性の低いEASとReact Native Webに関する内容は記載しません。</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="expo-sdk-51の主な変更">Expo SDK 51の主な変更<a href="#expo-sdk-51の主な変更" class="hash-link" aria-label="Expo SDK 51の主な変更 への直接リンク" title="Expo SDK 51の主な変更 への直接リンク">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="react-native-v0745">React Native <code>v0.74.5</code><a href="#react-native-v0745" class="hash-link" aria-label="react-native-v0745 への直接リンク" title="react-native-v0745 への直接リンク">​</a></h3><p>詳細は、以下のリンク先を参照してください。</p><ul><li><a href="https://reactnative.dev/blog/2024/04/22/release-0.74" target="_blank" rel="noopener noreferrer">React Native 0.74 - Yoga 3.0, Bridgeless New Architecture, and more · React Native</a></li><li><a href="https://github.com/facebook/react-native/blob/main/CHANGELOG.md#v0745" target="_blank" rel="noopener noreferrer">React Native CHANGELOG</a></li></ul><p>Reactのバージョンは変更されておらず、依然として<code>v18.2.0</code>です。</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="yoga-30">Yoga 3.0<a href="#yoga-30" class="hash-link" aria-label="Yoga 3.0 への直接リンク" title="Yoga 3.0 への直接リンク">​</a></h4><p>React NativeのレイアウトエンジンであるYogaのバージョンが3.0になりました。レイアウトの正確性が向上し、以下のような機能が利用可能になりました。</p><ul><li><code>align-content: &#x27;space-evenly&#x27;</code></li><li><code>position: &#x27;static&#x27;</code></li></ul><p>詳細は以下の記事を参照してください。</p><ul><li><a href="https://www.yogalayout.dev/blog/announcing-yoga-3.0" target="_blank" rel="noopener noreferrer">Announcing Yoga 3.0</a></li></ul><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>注意点</div><div class="admonitionContent_S0QG"><p><code>flexDirection: &#x27;row-reverse&#x27;</code>が設定されているコンテナで、<code>margin</code>/<code>padding</code>/<code>border</code>の振る舞いが変更されています。<code>left</code>/<code>right</code>/<code>start</code>/<code>end</code>の扱いがWebと異なっていたのですが、同じように振る舞うよう修正されています。</p><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">影響を受けるコード例</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">View</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;react-native&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">View</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  style</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    flexDirection</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;row&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    backgroundColor</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;red&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    margin</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    width</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">200</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    height</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">View</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    style</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      flexDirection</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;row-reverse&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// row-reverseを設定</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      backgroundColor</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;blue&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      flex</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      marginLeft</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">50</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Yoga 2.0だと右側にマージンが取られていたが、Yoga 3.0では左側にマージンが取られるように修正された</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">View</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      style</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        backgroundColor</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;green&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        height</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;50%&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        flex</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        marginLeft</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">50</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">View</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">View</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><table><thead><tr><th>Yoga 2.0</th><th>Yoga 3.0</th></tr></thead><tbody><tr><td><img loading="lazy" alt="Yoga 2.0 row-reverse edge handling" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAABkCAIAAABM5OhcAAABNElEQVR4nO3dsQ3DMBAEQdJuXJWLakCBkwUlY6aCCxaf/hxjjQc6vrsXvMY6zt0Tbnx2D+A/CYuEsEgIi4SwSAiLhLBICIuEsEgIi4SwSAiLhLBICIuEsEgIi4SwSAiLhLBICIuEsEgIi4SwSAiLhLBICIuEsEgIi4SwSAiLhLBICIuEsEgIi4SwSAiLhLBICIuEsEgIi4SwSAiLhLBICIuEsEgIi4SwSAiLhLBIzId+WOVna8zdE264WCSERUJYJIRFQlgkhEVCWCSERUJYJIRFQlgkhEVCWCSERUJYJIRFQlgkhEVCWCSERUJYJIRFQlgkhEVCWCSERUJYJIRFQlgkhEVCWCSERUJYJIRFQlgkhEVCWCSERUJYJIRFQlgkhEVCWCSERUJYJIRFQlgkhEVCWCQubAgGxe4dSXUAAAAASUVORK5CYII=" width="200" height="100" class="img_ev3q"></td><td><img loading="lazy" alt="Yoga 3.0 row-reverse edge handling" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAABkCAIAAABM5OhcAAABLElEQVR4nO3dsQ2AMBAEQRsap3NogWRlg2YquGD16c977GiOLXdd5+oFn3GsHsA/CYuEsEgIi4SwSAiLhLBICIuEsEgIi4SwSAiLhLBICIuEsEgIi4SwSAiLhLBICIuEsEgIi4SwSAiLhLBICIuEsEgIi4SwSAiLhLBICIuEsEgIi4SwSAiLhLBICIuEsEgIi4SwSAiLhLBICIuEsEgIi4SwSAiLhLBIzC0/me76YZXXXCwSwiIhLBLCIiEsEsIiISwSwiIhLBLCIiEsEsIiISwSwiIhLBLCIiEsEsIiISwSwiIhLBLCIiEsEsIiISwSwiIhLBLCIiEsEsIiISwSwiIhLBLCIiEsEsIiISwSwiIhLBLCIiEsEsIiISwSwiIhLBLCIiEsEsIiISwSD58QBUjZIyfJAAAAAElFTkSuQmCC" width="200" height="100" class="img_ev3q"></td></tr></tbody></table><p><code>row-reverse</code>が設定されているときに<code>left</code>/<code>right</code>/<code>start</code>/<code>end</code>も反転して扱われていましたが、Webと同じ振る舞いになるように修正されています。</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="proptypesの廃止"><code>PropTypes</code>の廃止<a href="#proptypesの廃止" class="hash-link" aria-label="proptypesの廃止 への直接リンク" title="proptypesの廃止 への直接リンク">​</a></h4><p>React Native 0.73まではReact 15.5で廃止予定とされていた<code>PropTypes</code>が含まれていましたが、0.74ですべて削除されました。</p><ul><li><a href="https://github.com/facebook/react-native/pull/42019" target="_blank" rel="noopener noreferrer">RN: Remove Deprecated Prop Types</a></li></ul><p>もし<code>PropTypes</code>を利用している場合は、TypeScriptの型システムに移行することが強く推奨されています。</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="pushnotificationiosの廃止予定"><code>PushNotificationIOS</code>の廃止予定<a href="#pushnotificationiosの廃止予定" class="hash-link" aria-label="pushnotificationiosの廃止予定 への直接リンク" title="pushnotificationiosの廃止予定 への直接リンク">​</a></h4><p>React Native 0.74では<a href="https://reactnative.dev/docs/pushnotificationios" target="_blank" rel="noopener noreferrer"><code>PushNotificationIOS</code></a>が廃止予定となっています。</p><p>この機能は0.75で削除されており、次のアップグレードまでにコミュニティの<a href="https://github.com/react-native-push-notification/ios" target="_blank" rel="noopener noreferrer">@react-native-community/push-notification-ios</a>に移行する必要があります。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="apple-privacy-manifest対応の追加">Apple Privacy Manifest対応の追加<a href="#apple-privacy-manifest対応の追加" class="hash-link" aria-label="Apple Privacy Manifest対応の追加 への直接リンク" title="Apple Privacy Manifest対応の追加 への直接リンク">​</a></h3><p>2024年5月1日から、App Storeにアプリを提出する際に<a href="https://developer.apple.com/documentation/bundleresources/privacy_manifest_files" target="_blank" rel="noopener noreferrer">プライバシーマニフェスト</a>が必要となっています。</p><ul><li><a href="https://developer.apple.com/jp/news/?id=3d8a9yyh" target="_blank" rel="noopener noreferrer">App Storeへの提出におけるプライバシー要件のアップデート</a></li><li><a href="https://developer.apple.com/jp/news/?id=pvszzano" target="_blank" rel="noopener noreferrer">リマインダー：アプリ提出時のプライバシー要件が5月1日から適用されます</a></li></ul><p>Appleの定義する<a href="https://developer.apple.com/documentation/bundleresources/privacy_manifest_files/describing_use_of_required_reason_api" target="_blank" rel="noopener noreferrer">理由の宣言が求められるAPI</a>をアプリのコードやSDKで利用している場合、それらの利用が承認される理由をプライバシーマニフェストファイルに記載する必要があります。</p><p>また、<a href="https://developer.apple.com/jp/support/third-party-SDK-requirements/" target="_blank" rel="noopener noreferrer">Appleの指定するサードパーティSDK</a>を利用している場合もプライバシーマニフェストを含める必要があります。なお、これらのサードパーティSDKに関しては、SDKにプライバシーマニフェストが含まれるバージョンへの更新でも対応可能です。</p><p>プライバシーマニフェストが必要とされるにも関わらずApp Store Connectへアップロードしたアプリに含まれていない場合には、App Store Connect上で警告が表示されます。</p><p>ExpoのConfig Pluginを利用している場合、プライバシーマニフェストファイルに記載する内容を<code>app.config.js</code>で設定できるようになりました。設定方法の詳細については、<a href="https://docs.expo.dev/guides/apple-privacy/" target="_blank" rel="noopener noreferrer">Privacy manifests - Expo Documentation</a>を参照してください。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="apnsのエンタイトルメントが自動的には追加されないように変更">APNsのエンタイトルメントが自動的には追加されないように変更<a href="#apnsのエンタイトルメントが自動的には追加されないように変更" class="hash-link" aria-label="APNsのエンタイトルメントが自動的には追加されないように変更 への直接リンク" title="APNsのエンタイトルメントが自動的には追加されないように変更 への直接リンク">​</a></h3><p><code>expo-notifications</code>を利用していない場合は、APNsのエンタイトルメントは自動では追加されないように変更になりました。</p><p><code>expo-notifications</code>を利用していない場合にiOSで通知機能を利用する場合は、以下のように<code>app.config.js</code>に設定を追加する必要があります。</p><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">app.config.js</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">exports </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  expo</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ios</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      entitlements</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string-property property">&#x27;aps-environment&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;development&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="expo-goのサポート対象が最新版のみに変更">Expo Goのサポート対象が最新版のみに変更<a href="#expo-goのサポート対象が最新版のみに変更" class="hash-link" aria-label="Expo Goのサポート対象が最新版のみに変更 への直接リンク" title="Expo Goのサポート対象が最新版のみに変更 への直接リンク">​</a></h3><p>Expo Goはこれまで複数バージョンのExpo SDKで実装されたアプリを動かすことができていました。例えば、SDK 50時点のExpo Goでは、SDK 49で実装されたアプリを動かすことができました。</p><p>SDK 51からは、このサポート対象が最新版のみに変更されました。そのため、Expo SDK 51がリリースされたあとのExpo GoではSDK 51のアプリのみ動作し、SDK 50のアプリは動作しなくなっています。</p><p><a href="https://expo.dev/go" target="_blank" rel="noopener noreferrer">Expo Go - Expo</a>から対応するバージョンのExpo Goをダウンロードして利用することで、iOS実機以外では古いSDKのアプリをExpo Goで動かすことができます。しかし、iOSの実機では古いバージョンのExpo Goを動かすことはできません。</p><p>そのため実際のアプリ開発では、Expo Goではなく<a href="https://docs.expo.dev/develop/development-builds/introduction/" target="_blank" rel="noopener noreferrer">development build</a>の利用が推奨されています。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="cameraとsqliteの新apiがデフォルトで利用されるように変更">CameraとSQLiteの新APIがデフォルトで利用されるように変更<a href="#cameraとsqliteの新apiがデフォルトで利用されるように変更" class="hash-link" aria-label="CameraとSQLiteの新APIがデフォルトで利用されるように変更 への直接リンク" title="CameraとSQLiteの新APIがデフォルトで利用されるように変更 への直接リンク">​</a></h3><p>Expo 50で追加された<code>expo-camera/next</code>と<code>expo-sqlite/next</code>がデフォルトになり、<a href="https://docs.expo.dev/versions/v51.0.0/sdk/camera/" target="_blank" rel="noopener noreferrer"><code>expo-camera</code></a>および<a href="https://docs.expo.dev/versions/v51.0.0/sdk/sqlite/" target="_blank" rel="noopener noreferrer"><code>expo-sqlite</code></a>として公開されるよう変更されました。</p><p>Expo 50まではデフォルトで公開されていた旧APIは<a href="https://docs.expo.dev/versions/v51.0.0/sdk/camera-legacy/" target="_blank" rel="noopener noreferrer"><code>expo-camera/legacy</code></a>と<a href="https://docs.expo.dev/versions/v51.0.0/sdk/sqlite-legacy/" target="_blank" rel="noopener noreferrer"><code>expo-sqlite/legacy</code></a>に変更されました。</p><p>旧APIはSDK 51の間は利用できますが、SDK 52では削除される予定となっています。リリースノートでは、SDK 51へのアップグレード時は旧APIを使うように修正し、アップグレードが完了してから新APIに移行する手順が推奨されています。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="expo-symbolの追加"><code>expo-symbol</code>の追加<a href="#expo-symbolの追加" class="hash-link" aria-label="expo-symbolの追加 への直接リンク" title="expo-symbolの追加 への直接リンク">​</a></h3><p>Appleの<a href="https://developer.apple.com/jp/sf-symbols/" target="_blank" rel="noopener noreferrer">SF Symbols</a>を利用できるように、<code>expo-symbols</code>というライブラリが追加されました。AndroidやWebなどSF Symbolsを利用できない環境では、<code>fallback</code>として指定したコンポーネントが表示されます。</p><p>詳細については、<a href="https://docs.expo.dev/versions/v51.0.0/sdk/symbols/" target="_blank" rel="noopener noreferrer">Symbols - Expo Documentation</a>を参照してください。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="expoがサポートするライブラリや機能">Expoがサポートするライブラリや機能<a href="#expoがサポートするライブラリや機能" class="hash-link" aria-label="Expoがサポートするライブラリや機能 への直接リンク" title="Expoがサポートするライブラリや機能 への直接リンク">​</a></h3><p>以下に挙げる変更点の詳細やその他の変更については、<a href="https://github.com/expo/expo/blob/main/CHANGELOG.md#5100--2024-05-07" target="_blank" rel="noopener noreferrer">ExpoのChangelog</a>を参照してください。</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ライブラリの更新">ライブラリの更新<a href="#ライブラリの更新" class="hash-link" aria-label="ライブラリの更新 への直接リンク" title="ライブラリの更新 への直接リンク">​</a></h4><ul><li><a href="https://docs.expo.dev/router/introduction/" target="_blank" rel="noopener noreferrer">expo-router</a> <code>v3.5</code><ul><li>参考：<a href="https://github.com/expo/expo/blob/main/packages/expo-router/CHANGELOG.md#350--2024-04-18" target="_blank" rel="noopener noreferrer">Expo Router CHANGELOG</a></li></ul></li><li><a href="https://docs.expo.dev/versions/latest/sdk/asset/" target="_blank" rel="noopener noreferrer">expo-asset</a><ul><li><code>app.config.js</code>に設定するだけで、ネイティブリソースを追加できるようになりました</li><li>参考：<a href="https://docs.expo.dev/develop/user-interface/assets/#load-an-asset-at-build-time-with-expo-asset-config-plugin" target="_blank" rel="noopener noreferrer">Load an asset at build time with expo-asset config plugin</a></li></ul></li><li><a href="https://docs.expo.dev/versions/latest/sdk/local-authentication/" target="_blank" rel="noopener noreferrer">expo-local-authentication</a><ul><li>Androidでのローカル認証時に、<a href="https://source.android.com/docs/security/features/biometric?hl=ja" target="_blank" rel="noopener noreferrer">Class 3 biometrics</a>のみを利用可能とするかどうかを設定できるようになりました</li></ul></li><li><a href="https://docs.expo.dev/versions/latest/sdk/securestore/" target="_blank" rel="noopener noreferrer">expo-secure-store</a><ul><li><a href="https://docs.expo.dev/versions/latest/sdk/securestore/#securestorecanusebiometricauthentication" target="_blank" rel="noopener noreferrer"><code>SecureStore.canUseBiometricAuthentication()</code></a>が追加されました</li><li>この関数が<code>true</code>を返す場合は、セキュアストアの値を取得するときに認証を必須にできます（<a href="https://docs.expo.dev/versions/latest/sdk/securestore/#securestoreoptions" target="_blank" rel="noopener noreferrer"><code>requireAuthentication</code>オプション</a>）</li></ul></li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ライブラリの新機能">ライブラリの新機能<a href="#ライブラリの新機能" class="hash-link" aria-label="ライブラリの新機能 への直接リンク" title="ライブラリの新機能 への直接リンク">​</a></h4><ul><li><a href="https://github.com/expo/expo/tree/main/packages/eslint-config-expo" target="_blank" rel="noopener noreferrer">eslint-config-expo</a><ul><li>Expoで開発するときのベースとなるESLint設定が追加されました</li><li>Expoプロジェクトで<code>npx expo lint</code>を実行すると、ESLintの設定ファイルが存在しなければ<code>eslint-config-expo</code>を使う設定ファイルが作成されます</li><li>詳細は<a href="https://docs.expo.dev/guides/using-eslint/" target="_blank" rel="noopener noreferrer">Use ESLint and Prettier - Expo Documentation</a>を参照してください</li></ul></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="このアプリで実施したアップグレードの手順">このアプリで実施したアップグレードの手順<a href="#このアプリで実施したアップグレードの手順" class="hash-link" aria-label="このアプリで実施したアップグレードの手順 への直接リンク" title="このアプリで実施したアップグレードの手順 への直接リンク">​</a></h2><p>このアプリでは、<a href="https://expo.dev/changelog/2024/05-07-sdk-51#%EF%B8%8F-upgrading-your-app" target="_blank" rel="noopener noreferrer">Expo 51へのアップグレード方法</a>を参考に、以下の作業を実施してExpo SDK 51にアップグレードしました。</p><p>アップグレードを実施したプルリクエストは<a href="https://github.com/ws-4020/mobile-app-crib-notes/pull/1322" target="_blank" rel="noopener noreferrer">Pull Request #1322 · ws-4020/mobile-app-crib-notes</a>です。</p><ol><li><a href="#expo%E3%81%A8expo%E3%81%8C%E7%AE%A1%E7%90%86%E3%81%99%E3%82%8B%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA%E3%81%AE%E3%82%A2%E3%83%83%E3%83%97%E3%82%B0%E3%83%AC%E3%83%BC%E3%83%89">ExpoとExpoが管理するライブラリのアップグレード</a></li><li><a href="#npx-expo-doctor%E3%81%A7%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E6%95%B4%E5%90%88%E6%80%A7%E3%82%92%E7%A2%BA%E8%AA%8D"><code>npx expo-doctor</code>でバージョン整合性を確認</a></li><li><a href="#%E6%97%A2%E5%AD%98%E3%83%91%E3%83%83%E3%83%81%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E6%9B%B4%E6%96%B0">既存パッチファイルの更新</a></li><li><a href="#%E3%83%93%E3%83%AB%E3%83%89%E3%81%AA%E3%81%A9%E3%81%AB%E5%88%A9%E7%94%A8%E3%81%99%E3%82%8B%E3%83%84%E3%83%BC%E3%83%AB%E3%81%AE%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E3%82%92%E6%9B%B4%E6%96%B0">ビルドなどに利用するツールのバージョンを更新</a></li><li><a href="#apns%E3%81%AE%E3%82%A8%E3%83%B3%E3%82%BF%E3%82%A4%E3%83%88%E3%83%AB%E3%83%A1%E3%83%B3%E3%83%88%E3%82%92%E8%BF%BD%E5%8A%A0">APNsのエンタイトルメントを追加</a></li><li><a href="#defaultprops%E3%81%AE%E5%88%A9%E7%94%A8%E7%AE%87%E6%89%80%E3%82%92%E4%BF%AE%E6%AD%A3"><code>defaultProps</code>の利用箇所を修正</a></li><li><a href="#%E9%9D%99%E7%9A%84%E8%A7%A3%E6%9E%90%E3%82%A8%E3%83%A9%E3%83%BC%E3%81%AE%E4%BF%AE%E6%AD%A3">静的解析エラーの修正</a></li><li><a href="#%E8%87%AA%E5%8B%95%E3%83%86%E3%82%B9%E3%83%88%E3%81%AE%E5%A4%B1%E6%95%97%E3%82%92%E4%BF%AE%E6%AD%A3">自動テストの失敗を修正</a></li><li><a href="#expo%E3%81%AE%E6%9B%B4%E6%96%B0%E5%B1%A5%E6%AD%B4%E7%A2%BA%E8%AA%8D%E3%81%A8%E5%AF%BE%E5%BF%9C">Expoの更新履歴確認と対応</a></li><li><a href="#react-native%E3%81%AE%E6%9B%B4%E6%96%B0%E5%B1%A5%E6%AD%B4%E7%A2%BA%E8%AA%8D%E3%81%A8%E5%AF%BE%E5%BF%9C">React Nativeの更新履歴確認と対応</a></li><li><a href="#expo-template-blank-typescript%E3%81%AE%E6%9B%B4%E6%96%B0%E5%B1%A5%E6%AD%B4%E7%A2%BA%E8%AA%8D%E3%81%A8%E5%AF%BE%E5%BF%9C"><code>expo-template-blank-typescript</code>の更新履歴確認と対応</a></li><li><a href="#expo-template-bare-minimum%E3%81%AE%E6%9B%B4%E6%96%B0%E5%B1%A5%E6%AD%B4%E7%A2%BA%E8%AA%8D%E3%81%A8%E5%AF%BE%E5%BF%9C"><code>expo-template-bare-minimum</code>の更新履歴確認と対応</a></li><li><a href="#%E3%83%A9%E3%82%A4%E3%82%BB%E3%83%B3%E3%82%B9%E6%83%85%E5%A0%B1%E3%82%92%E6%9B%B4%E6%96%B0">ライセンス情報を更新</a></li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="expoとexpoが管理するライブラリのアップグレード">ExpoとExpoが管理するライブラリのアップグレード<a href="#expoとexpoが管理するライブラリのアップグレード" class="hash-link" aria-label="ExpoとExpoが管理するライブラリのアップグレード への直接リンク" title="ExpoとExpoが管理するライブラリのアップグレード への直接リンク">​</a></h3><p><code>npx expo install expo@^51.0.0 --fix</code>を実行して、Expo SDK 51の<code>expo</code>パッケージをインストールします。また、あわせてExpoが管理するライブラリもアップグレードします。</p><p>アップグレードの実行後に以下のログが出力されたため、<code>app.config.js</code>を修正しました。</p><div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Cannot automatically write to dynamic config at: app.config.js</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Please add the following to your Expo config</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;plugins&quot;: [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;expo-secure-store&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">app.config.js</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">      [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">        &#x27;expo-build-properties&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">        // 〜〜〜中略〜〜〜</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">      ],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(195, 232, 141)">+</span><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)">      [&#x27;expo-secure-store&#x27;],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">      [&#x27;@react-native-firebase/app&#x27;],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">      [&#x27;@react-native-firebase/crashlytics&#x27;],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">      // このアプリで用意しているAndroid/iOS共通のプラグイン</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="npx-expo-doctorでバージョン整合性を確認"><code>npx expo-doctor</code>でバージョン整合性を確認<a href="#npx-expo-doctorでバージョン整合性を確認" class="hash-link" aria-label="npx-expo-doctorでバージョン整合性を確認 への直接リンク" title="npx-expo-doctorでバージョン整合性を確認 への直接リンク">​</a></h3><p><code>npx expo-doctor</code>で確認したところ、いくつかのライブラリのバージョンについて警告が出力されました。</p><div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Expected package @expo/config-plugins@~8.0.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Found invalid:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  @expo/config-plugins@7.9.2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  (for more info, run: npm why @expo/config-plugins)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Advice: Upgrade dependencies that are using the invalid package versions.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">The following scripts in package.json conflict with the contents of node_modules/.bin: orval.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">The following packages should be updated for best compatibility with the installed expo version:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  @expo/config-plugins@7.9.2 - expected version: ~8.0.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  babel-preset-expo@10.0.2 - expected version: ~11.0.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  jest-expo@50.0.4 - expected version: ~51.0.4</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  typescript@5.1.6 - expected version: ~5.3.3</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Your project may not work correctly until you install the expected versions of the packages.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Found outdated dependencies</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Advice: Use &#x27;npx expo install --check&#x27; to review and upgrade your dependencies.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>アドバイス通り、<code>npx expo install --check</code>を実行してバージョンの不整合を解消しました。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="既存パッチファイルの更新">既存パッチファイルの更新<a href="#既存パッチファイルの更新" class="hash-link" aria-label="既存パッチファイルの更新 への直接リンク" title="既存パッチファイルの更新 への直接リンク">​</a></h3><p>このアプリでは、<a href="https://github.com/ds300/patch-package" target="_blank" rel="noopener noreferrer">patch-package</a>を使用して、以下のライブラリにパッチファイルを適用していました。
パッチ内容の詳細は、<a href="https://github.com/fintan-contents/mobile-app-crib-notes/blob/v2024.10/example-app/SantokuApp/patches/README.md" target="_blank" rel="noopener noreferrer">こちら</a>を参照してください。</p><ul><li><code>@expo/config-plugins</code></li><li><code>expo-splash-screen</code></li><li><code>react-native-elements</code></li></ul><p><code>expo-splash-screen</code>は、Expo SDKのアップグレードに伴いバージョンが上がりました。しかし、適用していたパッチファイルはまだ必要な対応だったため、パッチファイルは削除せずに各ライブラリのバージョンに合わせてファイル名をリネームしました。</p><p><code>@expo/config-plugins</code>はまだ必要な対応だったのですが、バージョンの更新に起因してパッチが失敗するようになりました。修正内容には変更はなかったため、利用しているバージョンでのパッチが成功するようにパッチファイルを作成し直して対応しました。</p><p><code>react-native-elements</code>に関しては、バージョンが変わらなかったため変更はありません。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ビルドなどに利用するツールのバージョンを更新">ビルドなどに利用するツールのバージョンを更新<a href="#ビルドなどに利用するツールのバージョンを更新" class="hash-link" aria-label="ビルドなどに利用するツールのバージョンを更新 への直接リンク" title="ビルドなどに利用するツールのバージョンを更新 への直接リンク">​</a></h3><p>Node.jsのActive LTSはすでに20系になっているため、このアプリでもNode.js 20系を利用するように修正しました。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="apnsのエンタイトルメントを追加">APNsのエンタイトルメントを追加<a href="#apnsのエンタイトルメントを追加" class="hash-link" aria-label="APNsのエンタイトルメントを追加 への直接リンク" title="APNsのエンタイトルメントを追加 への直接リンク">​</a></h3><p>APNsのエンタイトルメントは自動的に追加されなくなったので、<code>app.config.js</code>で設定するように修正しました。</p><div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">app.config.js</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">        UIBackgroundModes: [&#x27;fetch&#x27;, &#x27;remote-notification&#x27;],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">      },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">      associatedDomains: [`applinks:${DEEP_LINK_DOMAIN}`],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(195, 232, 141)">+</span><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)">      entitlements: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(195, 232, 141)">+</span><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)">        &#x27;aps-environment&#x27;: &#x27;development&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(195, 232, 141)">+</span><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)">      },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">    disabledPlugins: [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">      // default plugin を無効化するために patch-package を使用して機能拡張している</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="defaultpropsの利用箇所を修正"><code>defaultProps</code>の利用箇所を修正<a href="#defaultpropsの利用箇所を修正" class="hash-link" aria-label="defaultpropsの利用箇所を修正 への直接リンク" title="defaultpropsの利用箇所を修正 への直接リンク">​</a></h3><p>アップデート後にアプリを起動すると、以下のようなエラーが表示されるようになりました。</p><div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> ERROR  Warning: Overlay: Support for defaultProps will be removed from function components in a future major release. Use JavaScript default parameters instead.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    in Overlay (created by LoadingOverlayComponent)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    in LoadingOverlayComponent (created by Component)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>defaultProps</code>を利用している箇所については、以下のようにすべてデフォルト引数に変更して対応しました。</p><div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">Overlay.tsx</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">export const Overlay: React.FC&lt;React.PropsWithChildren&lt;OverlayProps&gt;&gt; = ({</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">  visible,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">  onHideEnd,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token deleted-sign deleted prefix deleted" style="color:rgb(255, 85, 114)">-</span><span class="token deleted-sign deleted line" style="color:rgb(255, 85, 114)">  fadeDuration,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted line" style="color:rgb(255, 85, 114)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(195, 232, 141)">+</span><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)">  fadeDuration = 200,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">  style,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">  ...props</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">}) =&gt; {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token coord">@@ -89,10 +89,6 @@</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">  );</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">};</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token deleted-sign deleted prefix deleted" style="color:rgb(255, 85, 114)">-</span><span class="token deleted-sign deleted line" style="color:rgb(255, 85, 114)">Overlay.defaultProps = {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted line" style="color:rgb(255, 85, 114)"></span><span class="token deleted-sign deleted prefix deleted" style="color:rgb(255, 85, 114)">-</span><span class="token deleted-sign deleted line" style="color:rgb(255, 85, 114)">  fadeDuration: 200,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted line" style="color:rgb(255, 85, 114)"></span><span class="token deleted-sign deleted prefix deleted" style="color:rgb(255, 85, 114)">-</span><span class="token deleted-sign deleted line" style="color:rgb(255, 85, 114)">};</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted line" style="color:rgb(255, 85, 114)"></span><span class="token deleted-sign deleted prefix deleted" style="color:rgb(255, 85, 114)">-</span><span class="token deleted-sign deleted line" style="color:rgb(255, 85, 114)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted line" style="color:rgb(255, 85, 114)"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">const styles = StyleSheet.create({</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">  overlay: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">    flex: 1,</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="iosでfullwindowoverlayを使用しているコンポーネントが表示されない問題の対応">iOSでFullWindowOverlayを使用しているコンポーネントが表示されない問題の対応<a href="#iosでfullwindowoverlayを使用しているコンポーネントが表示されない問題の対応" class="hash-link" aria-label="iOSでFullWindowOverlayを使用しているコンポーネントが表示されない問題の対応 への直接リンク" title="iOSでFullWindowOverlayを使用しているコンポーネントが表示されない問題の対応 への直接リンク">​</a></h3><p>アプリ起動後、スナックバーなど<code>FullWindowOverlay</code>を使用しているコンポーネントが表示されなくなっていました。<br>
<!-- -->この事象は、アプリ起動後に以下のようなExpo DevClientのメニューが表示された場合のみ発生するようです。</p><p><img loading="lazy" alt="Expo DevClientメニュー" src="/mobile-app-crib-notes/assets/images/dev-client-menu-9481777fc31e652ec6bf5be6eca643bc.png" width="420" height="758" class="img_ev3q"></p><p>Expo DevClientのメニューに表示されている<code>Reload</code>をタップして、アプリを再読み込みするとスナックバーなどは表示されるようになります。<br>
<!-- -->そのため、このアプリではこの運用で回避することにしました。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="静的解析エラーの修正">静的解析エラーの修正<a href="#静的解析エラーの修正" class="hash-link" aria-label="静的解析エラーの修正 への直接リンク" title="静的解析エラーの修正 への直接リンク">​</a></h3><p>ソースコードフォーマットが微妙に変更されていたため、いくつかエラーが発生するようになっていました。</p><p>すべて自動修正可能なエラーだったので、<code>npm run fix</code>で修正して対応しました。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="自動テストの失敗を修正">自動テストの失敗を修正<a href="#自動テストの失敗を修正" class="hash-link" aria-label="自動テストの失敗を修正 への直接リンク" title="自動テストの失敗を修正 への直接リンク">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="expo-constantsのモックからdefault以外もexportするように修正">expo-constantsのモックからdefault以外もexportするように修正<a href="#expo-constantsのモックからdefault以外もexportするように修正" class="hash-link" aria-label="expo-constantsのモックからdefault以外もexportするように修正 への直接リンク" title="expo-constantsのモックからdefault以外もexportするように修正 への直接リンク">​</a></h4><p>Expo内部で<code>expo-constants</code>の<code>AppOwnership</code>などを利用するようになっていたのですが、モックがそれらを公開していなかったため以下のようなエラーが発生しました。</p><div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">TypeError: Cannot read properties of undefined (reading &#x27;Expo&#x27;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>モックファイルからデフォルトエクスポート以外もエクスポートするように修正して対応しました。</p><div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">jest/__mocks__/expo-constants.ts</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">import {wrapProperty} from &#x27;../utils/wrapProperty&#x27;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(195, 232, 141)">+</span><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)">export * from &#x27;expo-constants&#x27;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(195, 232, 141)">+</span><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">export const Constants = wrapProperty(ExpoConstants, {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">  expoConfig: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">    name: &#x27;SantokuApp&#x27;,</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="reanimatedviewのanimatedpropsに渡す値を修正">Reanimated.ViewのanimatedPropsに渡す値を修正<a href="#reanimatedviewのanimatedpropsに渡す値を修正" class="hash-link" aria-label="Reanimated.ViewのanimatedPropsに渡す値を修正 への直接リンク" title="Reanimated.ViewのanimatedPropsに渡す値を修正 への直接リンク">​</a></h4><p>React Native Reanimatedの<code>View</code>にはShared Valueを渡す必要があるため、<a href="https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/animating-styles-and-props#animating-props" target="_blank" rel="noopener noreferrer"><code>useAnimatedProps</code>を利用するようガイド</a>されています。</p><p>しかし、一部のテストコードで<code>useAnimatedProps</code>から取得した値を渡していない箇所があり、以下のようなエラーが発生するようになっていました。</p><div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">TypeError: Cannot read properties of undefined (reading &#x27;remove&#x27;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>useAnimatedProps</code>で取得したものを渡すようにテストコードを修正して対応しました。</p><div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">describe(&#x27;PickerContainer with all props&#x27;, () =&gt; {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">  it(&#x27;should be applied properly&#x27;, async () =&gt; {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">    const afterSlideIn = jest.fn();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(195, 232, 141)">+</span><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)">    const {result: animatedProps} = renderHook(() =&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(195, 232, 141)">+</span><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)">      useAnimatedProps(() =&gt; {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(195, 232, 141)">+</span><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)">        return {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(195, 232, 141)">+</span><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)">          pointerEvents: &#x27;none&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(195, 232, 141)">+</span><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)">        } as const;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(195, 232, 141)">+</span><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)">      }, []),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(195, 232, 141)">+</span><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)">    );</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">    /**</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     * WithTimingConfigのeasingを取得できなかったため、以下のPropsは検証できていません。</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     * - slideIntConfig</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     * - slideOutConfig</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     */</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">    const sut = render(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">      &lt;PickerContainer</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">        isVisible</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">        testID=&quot;animatedView&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token deleted-sign deleted prefix deleted" style="color:rgb(255, 85, 114)">-</span><span class="token deleted-sign deleted line" style="color:rgb(255, 85, 114)">        animatedProps={{pointerEvents: &#x27;none&#x27;}}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted line" style="color:rgb(255, 85, 114)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(195, 232, 141)">+</span><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)">        animatedProps={animatedProps.current}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">        style={{backgroundColor: &#x27;green&#x27;}}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">        slideInDuration={200}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">        afterSlideIn={afterSlideIn}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="expoの更新履歴確認と対応">Expoの更新履歴確認と対応<a href="#expoの更新履歴確認と対応" class="hash-link" aria-label="Expoの更新履歴確認と対応 への直接リンク" title="Expoの更新履歴確認と対応 への直接リンク">​</a></h3><p>Expoの<a href="https://github.com/expo/expo/blob/sdk-51/CHANGELOG.md#5100--2024-05-07" target="_blank" rel="noopener noreferrer">CHANGELOG</a>を参照して、Expo SDKとExpoが管理するライブラリの更新内容を確認しました。</p><p>ここまでの対応以外に追加で必要なものはありませんでした。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="react-nativeの更新履歴確認と対応">React Nativeの更新履歴確認と対応<a href="#react-nativeの更新履歴確認と対応" class="hash-link" aria-label="React Nativeの更新履歴確認と対応 への直接リンク" title="React Nativeの更新履歴確認と対応 への直接リンク">​</a></h3><p>React Nativeの<a href="https://github.com/facebook/react-native/blob/main/CHANGELOG.md#v0745" target="_blank" rel="noopener noreferrer">CHANGELOG</a>を参照して、React Nativeの更新内容を確認しました。</p><p>ここまでの対応以外に追加で必要なものはありませんでした。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="expo-template-blank-typescriptの更新履歴確認と対応"><code>expo-template-blank-typescript</code>の更新履歴確認と対応<a href="#expo-template-blank-typescriptの更新履歴確認と対応" class="hash-link" aria-label="expo-template-blank-typescriptの更新履歴確認と対応 への直接リンク" title="expo-template-blank-typescriptの更新履歴確認と対応 への直接リンク">​</a></h3><p><a href="https://github.com/expo/expo/commits/sdk-51/templates/expo-template-blank-typescript" target="_blank" rel="noopener noreferrer"><code>expo-template-blank-typescript</code>の更新履歴</a>を確認しました。</p><p><code>npx expo install expo@^51.0.0 --fix</code>で更新される依存ライブラリのアップグレードが主な変更でした。そのため、このアプリで特別な対応は必要ありませんでした。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="expo-template-bare-minimumの更新履歴確認と対応"><code>expo-template-bare-minimum</code>の更新履歴確認と対応<a href="#expo-template-bare-minimumの更新履歴確認と対応" class="hash-link" aria-label="expo-template-bare-minimumの更新履歴確認と対応 への直接リンク" title="expo-template-bare-minimumの更新履歴確認と対応 への直接リンク">​</a></h3><p>このアプリでは<a href="/mobile-app-crib-notes/react-native/santoku/maintenance/enhance/config-plugins">Config Pluginsに対応</a>しているので、<code>expo-template-bare-minimum</code>の更新に伴う個別の対応は基本的に必要ありません。
ただし、以下の場合は個別に対応する必要があるため、この観点に絞って<a href="https://github.com/expo/expo/commits/sdk-51/templates/expo-template-bare-minimum" target="_blank" rel="noopener noreferrer"><code>expo-template-bare-minimum</code>の更新履歴</a>を確認しました。</p><ul><li>このアプリで作成しているConfig Pluginsによる変更と、<code>expo-template-bare-minimum</code>の更新に伴う変更が競合した場合</li><li><a href="/mobile-app-crib-notes/react-native/santoku/development/build-configuration#prebuild">Prebuild</a>時に生成・更新されないファイル</li><li><code>android/</code>, <code>ios/</code>以外のファイル（<code>.gitignore</code>など）</li></ul><p>ここまでの対応以外に追加で必要なものはありませんでした。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ライセンス情報を更新">ライセンス情報を更新<a href="#ライセンス情報を更新" class="hash-link" aria-label="ライセンス情報を更新 への直接リンク" title="ライセンス情報を更新 への直接リンク">​</a></h3><p>このアプリでは、使用しているライブラリのライセンス一覧を出力するスクリプトを用意しています。詳細は、<a href="https://github.com/fintan-contents/mobile-app-crib-notes/blob/v2024.10/example-app/SantokuApp/.script/README.md" target="_blank" rel="noopener noreferrer">こちら</a>を参照してください。</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="managed-licensejsの更新"><code>managed-license.js</code>の更新<a href="#managed-licensejsの更新" class="hash-link" aria-label="managed-licensejsの更新 への直接リンク" title="managed-licensejsの更新 への直接リンク">​</a></h4><p>ライセンス情報が不足しており補完したい、あるいは、開発時のみ使用するため除外したいライブラリとバージョンを<a href="https://github.com/fintan-contents/mobile-app-crib-notes/blob/v2024.10/example-app/SantokuApp/.script/managed-license.js" target="_blank" rel="noopener noreferrer">managed-license.js</a>で管理しています。</p><p>ライセンス情報が不足しているライブラリなどは、以下のコマンドを実行することで確認できます。</p><ul><li><code>node .script/check-licenses.js</code></li></ul><p>実行した結果、いくつかのライブラリのライセンス情報を更新する必要があったので以下を実施しました。</p><ul><li>使用ライブラリの名前更新</li><li>使用ライブラリのバージョン更新</li><li>使用ライブラリのライセンスファイルURL更新</li><li>新規ライブラリ情報の追加</li><li>使用しなくなったライブラリ情報の削除</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated"><b><time datetime="2024-10-10T10:11:04.000Z">2024年10月10日</time></b>に<!-- -->最終更新</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="ドキュメントページ"><a class="pagination-nav__link pagination-nav__link--prev" href="/mobile-app-crib-notes/react-native/santoku/maintenance/enhance"><div class="pagination-nav__sublabel">前へ</div><div class="pagination-nav__label">エンハンス</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/mobile-app-crib-notes/react-native/santoku/maintenance/enhance/expo-50-upgrade"><div class="pagination-nav__sublabel">次へ</div><div class="pagination-nav__label">Expo SDK 50アップグレード</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#expo-sdk-51の主な変更" class="table-of-contents__link toc-highlight">Expo SDK 51の主な変更</a><ul><li><a href="#react-native-v0745" class="table-of-contents__link toc-highlight">React Native <code>v0.74.5</code></a></li><li><a href="#apple-privacy-manifest対応の追加" class="table-of-contents__link toc-highlight">Apple Privacy Manifest対応の追加</a></li><li><a href="#apnsのエンタイトルメントが自動的には追加されないように変更" class="table-of-contents__link toc-highlight">APNsのエンタイトルメントが自動的には追加されないように変更</a></li><li><a href="#expo-goのサポート対象が最新版のみに変更" class="table-of-contents__link toc-highlight">Expo Goのサポート対象が最新版のみに変更</a></li><li><a href="#cameraとsqliteの新apiがデフォルトで利用されるように変更" class="table-of-contents__link toc-highlight">CameraとSQLiteの新APIがデフォルトで利用されるように変更</a></li><li><a href="#expo-symbolの追加" class="table-of-contents__link toc-highlight"><code>expo-symbol</code>の追加</a></li><li><a href="#expoがサポートするライブラリや機能" class="table-of-contents__link toc-highlight">Expoがサポートするライブラリや機能</a></li></ul></li><li><a href="#このアプリで実施したアップグレードの手順" class="table-of-contents__link toc-highlight">このアプリで実施したアップグレードの手順</a><ul><li><a href="#expoとexpoが管理するライブラリのアップグレード" class="table-of-contents__link toc-highlight">ExpoとExpoが管理するライブラリのアップグレード</a></li><li><a href="#npx-expo-doctorでバージョン整合性を確認" class="table-of-contents__link toc-highlight"><code>npx expo-doctor</code>でバージョン整合性を確認</a></li><li><a href="#既存パッチファイルの更新" class="table-of-contents__link toc-highlight">既存パッチファイルの更新</a></li><li><a href="#ビルドなどに利用するツールのバージョンを更新" class="table-of-contents__link toc-highlight">ビルドなどに利用するツールのバージョンを更新</a></li><li><a href="#apnsのエンタイトルメントを追加" class="table-of-contents__link toc-highlight">APNsのエンタイトルメントを追加</a></li><li><a href="#defaultpropsの利用箇所を修正" class="table-of-contents__link toc-highlight"><code>defaultProps</code>の利用箇所を修正</a></li><li><a href="#iosでfullwindowoverlayを使用しているコンポーネントが表示されない問題の対応" class="table-of-contents__link toc-highlight">iOSでFullWindowOverlayを使用しているコンポーネントが表示されない問題の対応</a></li><li><a href="#静的解析エラーの修正" class="table-of-contents__link toc-highlight">静的解析エラーの修正</a></li><li><a href="#自動テストの失敗を修正" class="table-of-contents__link toc-highlight">自動テストの失敗を修正</a></li><li><a href="#expoの更新履歴確認と対応" class="table-of-contents__link toc-highlight">Expoの更新履歴確認と対応</a></li><li><a href="#react-nativeの更新履歴確認と対応" class="table-of-contents__link toc-highlight">React Nativeの更新履歴確認と対応</a></li><li><a href="#expo-template-blank-typescriptの更新履歴確認と対応" class="table-of-contents__link toc-highlight"><code>expo-template-blank-typescript</code>の更新履歴確認と対応</a></li><li><a href="#expo-template-bare-minimumの更新履歴確認と対応" class="table-of-contents__link toc-highlight"><code>expo-template-bare-minimum</code>の更新履歴確認と対応</a></li><li><a href="#ライセンス情報を更新" class="table-of-contents__link toc-highlight">ライセンス情報を更新</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Contents</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/mobile-app-crib-notes/reference">Reference</a></li></ul></div><div class="col footer__col"><div class="footer__title">React Native</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/mobile-app-crib-notes/react-native/learn">Learn</a></li><li class="footer__item"><a class="footer__link-item" href="/mobile-app-crib-notes/react-native/santoku">Example App</a></li><li class="footer__item"><a class="footer__link-item" href="/mobile-app-crib-notes/react-native/common-pitfalls">Trouble shooting</a></li></ul></div><div class="col footer__col"><div class="footer__title">Related Work</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://fintan.jp" target="_blank" rel="noopener noreferrer" class="footer__link-item">Fintan<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://fintan.jp/?p=5952" target="_blank" rel="noopener noreferrer" class="footer__link-item">SPA + REST API構成のサービス開発リファレンス<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://fintan.jp/blog-tag/react-native" target="_blank" rel="noopener noreferrer" class="footer__link-item">Fintan » React Native<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><div class="no-content">
<div class="copyright">
  ドキュメントは、<a rel="license" href="https://fintan.jp/?page_id=201" target="_blank">Fintan コンテンツ 使用許諾条項</a>の下に提供されており、コードサンプルは<a rel="license" href="https://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache 2.0 License</a>の下に提供されています。
</div>
<div class="supplementary">
  <a href="/mobile-app-crib-notes/terms-of-use/" class="footer__link-item">当サイトのご利用にあたって</a>
  <a href="/mobile-app-crib-notes/trademark/" class="footer__link-item">商標について</a>
</div>
</div>
</div></div></div></footer></div>
<script src="/mobile-app-crib-notes/assets/js/runtime~main.3d60eee5.js"></script>
<script src="/mobile-app-crib-notes/assets/js/main.1abe714a.js"></script>
</body>
</html>